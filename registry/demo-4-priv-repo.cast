{"version": 2, "width": 100, "height": 26, "timestamp": 1589147711, "idle_time_limit": 3.0, "env": {"SHELL": "/bin/bash", "TERM": "xterm-256color"}}
[0.003096, "o", "\u001b[?1049h\u001b[22;0;0t\u001b[?1h\u001b=\u001b[H\u001b[2J\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1002l\u001b[?1006l\u001b[?1005l\u001b[c\u001b(B\u001b[m\u001b[?12;25h\u001b[?12l\u001b[?25h\u001b[?1003l\u001b[?1006l\u001b[?2004l\u001b[1;1H\u001b[1;26r\u001b]112\u0007\u001b[6;1H\u001b[?1006h\u001b[?1000h"]
[0.003372, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               "]
[0.003386, "o", "  \u001b[K\r\n                                                                                  74,1          33%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b(B\u001b[m\u001b[?12;25h\u001b[?12l\u001b[?25h\u001b[?1003l\u001b[?1006l\u001b[?2004l\u001b[1;1H\u001b[1;26r\u001b[6;1H\u001b[?1006h\u001b[?1000h"]
[0.003574, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               "]
[0.003652, "o", "  \u001b[K\r\n                                                                                  74,1          33%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[6;1H\u001b[?12l\u001b[?25h"]
[2.325143, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m                                                                                            \u001b[30m\u001b[43m[0/0]\u001b[39m\u001b[49m\u001b[2;1H\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var"]
[2.325507, "o", "/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n                                                                                  74,1          33%\u001b[K\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[2.326527, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:bash- 1:[tmux]*                                              \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[6;1H\u001b[?12l\u001b[?25h"]
[2.604195, "o", "\u001b[30m\u001b[43md\r\u001b(B\u001b[m"]
[3.083886, "o", "\u001b[30m\u001b[43mdocker exec -it builder sh                                                                          \u001b[7;1H#\r\u001b(B\u001b[m"]
[4.196226, "o", "\u001b[30m\u001b[43m# login with token from .env file                                                                   \u001b[8;1He\r\u001b(B\u001b[m"]
[4.817212, "o", "\u001b[30m\u001b[43mecho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                              \u001b[9;1Hd\r\u001b(B\u001b[m"]
[8.13992, "o", "\u001b[30m\u001b[43mdo\b\u001b(B\u001b[m"]
[8.640735, "o", "\r\u001b[30m\u001b[43mdoc\b\u001b(B\u001b[m"]
[8.671188, "o", "\r\u001b[30m\u001b[43mdock\b\u001b(B\u001b[m"]
[8.700722, "o", "\r\u001b[30m\u001b[43mdocke\b\u001b(B\u001b[m"]
[8.730944, "o", "\r\u001b[30m\u001b[43mdocker\b\u001b(B\u001b[m"]
[8.759768, "o", "\r\u001b[30m\u001b[43mdocker \b\u001b(B\u001b[m"]
[8.788392, "o", "\r\u001b[30m\u001b[43mdocker i\b\u001b(B\u001b[m"]
[8.82256, "o", "\r\u001b[30m\u001b[43mdocker im\b\u001b(B\u001b[m"]
[8.852105, "o", "\r\u001b[30m\u001b[43mdocker ima\b\u001b(B\u001b[m"]
[8.881546, "o", "\r\u001b[30m\u001b[43mdocker imag\b\u001b(B\u001b[m"]
[8.912583, "o", "\r\u001b[30m\u001b[43mdocker image\b\u001b(B\u001b[m"]
[8.945048, "o", "\r\u001b[30m\u001b[43mdocker image \b\u001b(B\u001b[m"]
[8.973884, "o", "\r\u001b[30m\u001b[43mdocker image t\b\u001b(B\u001b[m"]
[9.002731, "o", "\r\u001b[30m\u001b[43mdocker image ta\b\u001b(B\u001b[m"]
[9.032574, "o", "\r\u001b[30m\u001b[43mdocker image tag\b\u001b(B\u001b[m"]
[9.064494, "o", "\r\u001b[30m\u001b[43mdocker image tag \b\u001b(B\u001b[m"]
[9.095036, "o", "\r\u001b[30m\u001b[43mdocker image tag u\b\u001b(B\u001b[m"]
[9.127185, "o", "\r\u001b[30m\u001b[43mdocker image tag ub\b\u001b(B\u001b[m"]
[9.15502, "o", "\r\u001b[30m\u001b[43mdocker image tag ubu\b\u001b(B\u001b[m"]
[9.184629, "o", "\r\u001b[30m\u001b[43mdocker image tag ubun\b\u001b(B\u001b[m"]
[9.215652, "o", "\r\u001b[30m\u001b[43mdocker image tag ubunt\b\u001b(B\u001b[m"]
[9.24777, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu\b\u001b(B\u001b[m"]
[9.278142, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu \b\u001b(B\u001b[m"]
[9.308526, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu s\b\u001b(B\u001b[m"]
[9.336682, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu su\b\u001b(B\u001b[m"]
[9.367082, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sud\b\u001b(B\u001b[m"]
[9.396993, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudo\b\u001b(B\u001b[m"]
[9.427739, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudob\b\u001b(B\u001b[m"]
[9.460942, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobm\b\u001b(B\u001b[m"]
[9.489626, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmi\b\u001b(B\u001b[m"]
[9.517429, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmit\b\u001b(B\u001b[m"]
[9.547996, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitc\b\u001b(B\u001b[m"]
[9.578664, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch\b\u001b(B\u001b[m"]
[9.612782, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/\b\u001b(B\u001b[m"]
[9.640827, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/d\b\u001b(B\u001b[m"]
[9.670674, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/de\b\u001b(B\u001b[m"]
[9.701371, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/dem\b\u001b(B\u001b[m"]
[9.733938, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/demo\b\u001b(B\u001b[m"]
[9.762693, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/demo:\b\u001b(B\u001b[m"]
[9.790815, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/demo:u\b\u001b(B\u001b[m"]
[9.824304, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/demo:ub\b\u001b(B\u001b[m"]
[9.854633, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/demo:ubu\b\u001b(B\u001b[m"]
[9.882425, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/demo:ubun\b\u001b(B\u001b[m"]
[10.099883, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/demo:ubunt\b\u001b(B\u001b[m"]
[10.296393, "o", "\r\u001b[30m\u001b[43mdocker image tag ubuntu sudobmitch/demo:ubuntu\b\u001b(B\u001b[m"]
[11.235867, "o", "\u001b]52;;ZG9ja2VyIGV4ZWMgLWl0IGJ1aWxkZXIgc2gKIyBsb2dpbiB3aXRoIHRva2VuIGZyb20gLmVudiBmaWxlCmVjaG8gIiRET0NLRVJfVE9LRU4iIHwgZG9ja2VyIGxvZ2luIC11ICIkRE9DS0VSX1VTRVIiIC0tcGFzc3dvcmQtc3RkaW4KZG9ja2VyIGltYWdlIHRhZyB1YnVudHUgc3Vkb2JtaXRjaC9kZW1vOnVidW50dQ==\u0007\u001b[6;1H\u001b[?1006h\u001b[?1000h"]
[11.238194, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               "]
[11.238434, "o", "  \u001b[K\r\n                                                                                  74,1          33%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[6;1H\u001b[?12l\u001b[?25h"]
[13.177457, "o", "\u001b[?25l\u001b[32m\u001b[17d───────────────────────────────────────────────────\u001b[39m─────────────────────────────────────────────────\u001b[1;1H\u001b(B\u001b[mc039d7736c2ff0dce69706ae865788614ba2b0d285ad8ff3a6d0a9f61c763ac7                                   \u001b[K\r\n$ time docker container exec -it builder docker pull ubuntu                                        \u001b[K\r\nUsing default tag: latest\u001b[K\r\nlatest: Pulling from library/ubuntu\u001b[K\r\nd51af753c3d3: Pull complete\u001b[K\r\nfc878cd0a91c: Pull complete\u001b[K\r\n6154df8ff988: Pull complete\u001b[K\r\nfee5db0ff82f: Pull complete\u001b[K\r\nDigest: sha256:747d2dbbaaee995098c9792d99bd333c6783ce56150d1b11e333bbceed5c54d7                    \u001b[K\r\nStatus: Downloaded newer image for ubuntu:latest\u001b[K\r\ndocker.io/library/ubuntu:latest\u001b[K\r\n\u001b[K\r\nreal    0m1.550s\u001b[K\r\nuser    0m0.054s\u001b[K\r\nsys     0m0.023s\u001b[K\r\n$\u001b[K\u001b[18;1H.03.8 go/go1."]
[13.177504, "o", "12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=118.821337ms http.response.status=200 http.response.written=28556247                       \u001b[K\r\n192.168.70.3 - - [10/May/2020:21:50:42 +0000] \"GET /v2/library/ubuntu/blobs/sha256:d51af753c3d3a984351448ec0f85ddafc580680fd6dfce9f4b09fdb367ee1e3e HTTP/1.1\" 200 28556247 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[K\r\n\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[14.380813, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker exec -it builder sh\u001b[1;26r\u001b[16;1H"]
[14.50208, "o", "/ # "]
[14.502212, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;5H# login with token from .env file\u001b[1;26r\u001b[16;1H"]
[14.503426, "o", "/ # echo \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_US"]
[14.503497, "o", "ER\" --pa\u001b[1;16r\u001b[16;1H\n\u001b[15;63Hssword-stdin\u001b[1;26r\u001b[16;1H"]
[14.810833, "o", "\u001b[1;16r\u001b[4S\u001b[12dWARNING! Your password will be stored unencrypted in /root/.docker/config.json.\r\nConfigure a credential helper to remove this warning. See\r\nhttps://docs.docker.com/engine/reference/commandline/login/#credentials-store\u001b[1;26r\u001b[16;1H"]
[14.811658, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[ALogin Succeeded\u001b[1;26r\u001b[16;1H"]
[14.815188, "o", "/ # docker image tag ubuntu sudobmitch/demo:ubuntu"]
[15.004741, "o", "\u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:docker* 1:vi-                                                \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[16;51H\u001b[?12l\u001b[?25h"]
[16.180361, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[1;26r\u001b[16;1H"]
[16.246313, "o", "/ # "]
[17.431154, "o", "\u001b[18;25r\u001b[2S\u001b[23dtime=\"2020-05-10T21:55:29.360171889Z\" level=info msg=\"PurgeUploads starting: olderThan=2020-05-03 21:55:29.360110073 +0000 UTC m=-604379.987557959, actuallyDelete=true\" \u001b[1;26r\u001b[16;5H"]
[17.431553, "o", "\u001b[18;25r\u001b[4S\u001b[21dtime=\"2020-05-10T21:55:29.360936142Z\" level=info msg=\"Purge uploads finished.  Num deleted=0, num errors=0\" \r\ntime=\"2020-05-10T21:55:29.360972574Z\" level=info msg=\"Starting upload purge in 24h0m0s\" go.version=go1.11.2 instance.id=5cec3835-49ec-4808-8a1c-3e95c9c062de service=registry version=v2.7.1 \u001b[1;26r\u001b[16;5H"]
[21.205256, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               "]
[21.205595, "o", "  \u001b[K\r\n                                                                                  74,1          33%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker- 1:vi*                                                \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[6;1H\u001b[?12l\u001b[?25h\u001b[?1006h\u001b[?1000h"]
[22.104539, "o", "\u001b[25;84H5\u001b[7;1H"]
[22.6081, "o", "\u001b[25;84H6\u001b[8;1H"]
[22.638171, "o", "\u001b[25;84H7\u001b[9;1H"]
[22.668357, "o", "\u001b[25;84H8\u001b[10;1H"]
[22.699377, "o", "\u001b[25;84H9\u001b[11;1H"]
[22.727244, "o", "\u001b[25;83H80\u001b[12;1H"]
[22.971952, "o", "\u001b[25;84H1\u001b[13;1H"]
[24.333224, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m                                                                                            \u001b[30m\u001b[43m[0/0]\u001b[39m\u001b[49m\u001b[2;1H\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var"]
[24.333387, "o", "/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n                                                                                  81,1          33%\u001b[K\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[24.33469, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:docker- 1:[tmux]*                                            \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[13;1H\u001b[?12l\u001b[?25h"]
[25.388161, "o", "\u001b[30m\u001b[43md\r\u001b(B\u001b[m"]
[25.715917, "o", "\u001b[30m\u001b[43mdocker image push sudobmitch/demo:ubuntu                                                            \u001b[14;1Hd\r\u001b(B\u001b[m"]
[26.636206, "o", "\u001b[A\u001b[30m\u001b[43md\u001b[39m\u001b[49mocker image push sudobmitch/demo:ubuntu                                                            \u001b[14;1Hd\u001b[13;1H\u001b[30m\u001b[43mdocker image push sudobmitch/demo:ubuntu \b\u001b(B\u001b[m"]
[27.660135, "o", "\r\u001b[30m\u001b[43mdocker image push sudobmitch/demo:ubuntu\u001b[39m\u001b[49m \b\b"]
[30.851415, "o", "\u001b]52;;ZG9ja2VyIGltYWdlIHB1c2ggc3Vkb2JtaXRjaC9kZW1vOnVidW50dQ==\u0007\r\u001b[?1006h\u001b[?1000h"]
[30.853703, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               "]
[30.854022, "o", "  \u001b[K\r\n                                                                                  81,1          33%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker- 1:vi*                                                \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[13;1H\u001b[?12l\u001b[?25h"]
[31.685368, "o", "\u001b[?25l\u001b[32m\u001b[4B───────────────────────────────────────────────────\u001b[39m─────────────────────────────────────────────────\u001b[1;1H\u001b(B\u001b[mStatus: Downloaded newer image for ubuntu:latest\u001b[K\r\ndocker.io/library/ubuntu:latest\u001b[K\r\n\u001b[K\r\nreal    0m1.550s\u001b[K\r\nuser    0m0.054s\u001b[K\r\nsys     0m0.023s\u001b[K\r\n$ docker exec -it builder sh\u001b[K\r\n/ # # login with token from .env file\u001b[K\r\n/ # echo \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                         \u001b[K\r\nWARNING! Your password will be stored unencrypted in /root/.docker/config.json.                    \u001b[K\r\nConfigure a credential helper to remove this warning. See                                          \u001b[K\r\nhttps://docs.docker.com/engine/reference/commandline/login/#credentials-store                      \u001b[K\r\n\u001b[K\r\nLogin Succeeded\u001b[K\r\n/ # docker image ta"]
[31.685486, "o", "g ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n/ #\u001b[K\u001b[18;1H3.8 \\\\(linux\\\\))\"\u001b[K\r\ntime=\"2020-05-10T21:55:29.360171889Z\" level=info msg=\"PurgeUploads starting: olderThan=2020-05-03 21:55:29.360110073 +0000 UTC m=-604379.987557959, actuallyDelete=true\"                               \u001b[K\r\ntime=\"2020-05-10T21:55:29.360936142Z\" level=info msg=\"Purge uploads finished.  Num deleted=0, num errors=0\"\u001b[K\r\ntime=\"2020-05-10T21:55:29.360972574Z\" level=info msg=\"Starting upload purge in 24h0m0s\" go.version=go1.11.2 instance.id=5cec3835-49ec-4808-8a1c-3e95c9c062de service=registry version=v2.7.1           \u001b[K\r\n\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker* 1:vi-                                                \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[16;5H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[33.49312, "o", "docker image push sudobmitch/demo:ubuntu"]
[33.979943, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[1;26r\u001b[16;1H"]
[34.063006, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[AThe push refers to repository [docker.io/sudobmitch/demo]\u001b[1;26r\u001b[16;1H"]
[34.123887, "o", "\u001b[1;16r\u001b[4S\u001b[12d8891751e0a17: Preparing \r\n2a19bd70fcd4: Preparing \r\n9e53fd489559: Preparing \r\n7789f1a3d4e9: Preparing \u001b[1;26r\u001b[16;1H"]
[34.387243, "o", "\u001b[A\u001b[K7789f1a3d4e9: Layer already exists \r\n"]
[34.396262, "o", "\u001b[2A\u001b[K9e53fd489559: Layer already exists \u001b[16;1H"]
[34.398351, "o", "\u001b[3A\u001b[K2a19bd70fcd4: Layer already exists \u001b[16;1H"]
[34.400306, "o", "\u001b[4A\u001b[K8891751e0a17: Layer already exists \u001b[16;1H"]
[34.714666, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Aubuntu: digest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8 size: 1152\u001b[1;26r\u001b[16;1H"]
[34.722832, "o", "/ # "]
[35.43599, "o", "\r/ # docker image push sudobmitch/demo:ubuntu\u001b[1;16r\u001b[16;45H\u001b[K\u001b[1;26r\u001b[16;45H"]
[35.66001, "o", "\b"]
[36.160825, "o", "\b"]
[36.190956, "o", "\b"]
[36.220903, "o", "\b"]
[36.250638, "o", "\b"]
[36.27981, "o", "\b"]
[36.313199, "o", "\b"]
[36.341832, "o", "\b"]
[36.370419, "o", "\b"]
[36.402194, "o", "\b"]
[36.43342, "o", "\b"]
[36.464086, "o", "\b"]
[36.490689, "o", "\b"]
[36.520982, "o", "\b"]
[36.551248, "o", "\b"]
[36.580935, "o", "\b"]
[36.614015, "o", "\b"]
[36.643963, "o", "\b"]
[36.67114, "o", "\b"]
[36.704466, "o", "\b"]
[36.734207, "o", "\b"]
[36.765018, "o", "\b"]
[36.794912, "o", "\b"]
[36.824485, "o", "\b"]
[37.188056, "o", "h"]
[37.58039, "o", "\b sudobmitch/demo:ubuntu\u001b[1;16r\u001b[16;44H\u001b[K\u001b[1;26r\u001b[16;21H"]
[37.723797, "o", "\b sudobmitch/demo:ubuntu\u001b[1;16r\u001b[16;43H\u001b[K\u001b[1;26r\u001b[16;20H"]
[38.25213, "o", "l sudobmitch/demo:ubuntu\u001b[21G"]
[38.403851, "o", "l sudobmitch/demo:ubuntu\u001b[22G"]
[38.780189, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;22H sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[38.85167, "o", "\u001b[18;25r\u001b[5S\u001b[20dtime=\"2020-05-10T21:55:50.781648691Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=6ed74d74-2084-418e-b965-c1536c1dd92d http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44284\" http.request.uri=\"/v2/\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\" http.response.duration=\"755.99µ\r\u001b[4S\u001b[21;32Hs\" http.response.status=200 http.response.written=2 \r\n192.168.70.3 - - [10/May/2020:21:55:50 +0000] \"GET /v2/ HTTP/1.1\" 200 2 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[38.989725, "o", "\u001b[18;25r\u001b[8S\u001b[18dfest unknown\" err.detail=\"unknown tag=ubuntu\" err.message=\"manifest unknown\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=bc75135a-c558-4233-8bc9-6798c48f329b http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44286\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\" http.response.duration=135.513602ms http.response.status=404 http.response.written=96 vars.name=\"sudobmitch/demo\" vars.reference=ubuntu \u001b[1;26r\u001b[16;1H"]
[39.210027, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Aubuntu: Pulling from sudobmitch/demo\u001b[1;26r\u001b[16;1H"]
[39.210396, "o", "\u001b[1;16r\u001b[2S\u001b[14dDigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8\r\nStatus: Image is up to date for sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[39.211025, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Adocker.io/sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[39.213511, "o", "/ # "]
[43.349186, "o", "\u001b[?25l\r\n───────────────────────────────────────────────────\u001b[32m─────────────────────────────────────────────────\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[44.605255, "o", "\u001b[?25l\u001b[Htime=\"2020-05-10T21:55:29.360936142Z\" level=info msg=\"Purge uploads finished.  Num deleted=0, num errors=0\"\u001b[K\r\ntime=\"2020-05-10T21:55:29.360972574Z\" level=info msg=\"Starting upload purge in 24h0m0s\" go.version=go1.11.2 instance.id=5cec3835-49ec-4808-8a1c-3e95c9c062de service=registry version=v2.7.1           \u001b[K\r\ntime=\"2020-05-10T21:55:50.781648691Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=6ed74d74-2084-418e-b965-c1536c1dd92d http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44284\" http.request.uri=\"/v2/\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\"\u001b[K\r\nhttp.response.duration=\"755.99µs\" http.response.status=200 http.response.written=2                 \u001b[K\r\n192.168.70.3 - - [10/May/2020:21:55:50 +0000] \"GET /v2/ HTTP/1.1\" 200 2 \"\" \"docker/19.03.8"]
[44.605361, "o", " go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[K\r\n192.168.70.3 - - [10/May/2020:21:55:50 +0000] \"GET /v2/sudobmitch/demo/manifests/ubuntu HTTP/1.1\" 404 96 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"                                                \u001b[K\r\ntime=\"2020-05-10T21:55:50.918594693Z\" level=error msg=\"response completed with error\" err.code=\"manifest unknown\" err.detail=\"unknown tag=ubuntu\" err.message=\"manifest unknown\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=bc75135a-c558-4233-8bc9-6798c48f329b http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44286\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.respons"]
[44.605683, "o", "e.contenttype=\"application/json; charset=utf-8\" http.response.duration=135.513602ms http.response.status=404 http.response.written=96 vars.name=\"sudobmitch/demo\" vars.reference=ubuntu                             \u001b[K\r\n\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker*Z 1:vi-                                               \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[47.045449, "o", "\u001b[?25l\u001b[Htime=\"2020-05-10T21:55:29.360936142Z\" level=info msg=\"Purge uploads finished.  Num deleted=0,\u001b[30m\u001b[43m[0/317]\u001b[2;1H\u001b[39m\u001b[49mrors=0\"\u001b[K\r\ntime=\"2020-05-10T21:55:29.360972574Z\" level=info msg=\"Starting upload purge in 24h0m0s\" go.version=g\u001b[4;1Ho1.11.2 instance.id=5cec3835-49ec-4808-8a1c-3e95c9c062de service=registry version=v2.7.1           \u001b[K\r\ntime=\"2020-05-10T21:55:50.781648691Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.r\u001b[6;1Hequest.host=\"hub-cache:5000\" http.request.id=6ed74d74-2084-418e-b965-c1536c1dd92d http.request.metho\u001b[7;1Hd=GET http.request.remoteaddr=\"192.168.70.3:44284\" http.request.uri=\"/v2/\" http.request.useragent=\"d\u001b[8;1Hocker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamC\u001b[9;1Hlient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\"\u001b[K\r\nhttp.response.duration=\"755.99µs\" http.response.status=200 http.response.written=2                 \u001b[K\r\n192.168.70.3 - - [10/May/2020:21:5"]
[47.045604, "o", "5:50 +0000] \"GET /v2/ HTTP/1.1\" 200 2 \"\" \"docker/19.03.8 go/go1.12\u001b[12;1H.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.\u001b[13;1H03.8 \\\\(linux\\\\))\"\u001b[K\r\n192.168.70.3 - - [10/May/2020:21:55:50 +0000] \"GET /v2/sudobmitch/demo/manifests/ubuntu HTTP/1.1\" 40\u001b[15;1H4 96 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64\u001b[16;1H UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"                                                \u001b[K\r\ntime=\"2020-05-10T21:55:50.918594693Z\" level=error msg=\"response completed with error\" err.code=\"mani\u001b[18;1Hfest unknown\" err.detail=\"unknown tag=ubuntu\" err.message=\"manifest unknown\" go.version=go1.11.2 htt\u001b[19;1Hp.request.host=\"hub-cache:5000\" http.request.id=bc75135a-c558-4233-8bc9-6798c48f329b http.request.me\u001b[20;1Hthod=GET http.request.remoteaddr=\"192.168.70.3:44286\" http.request.uri=\"/v2/sudobmitch/demo/manifest\u001b[21;1Hs/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/af"]
[47.045989, "o", "acb8b7f0 kernel/4.19.0-8-\u001b[22;1Hamd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype\u001b[23;1H=\"application/json; charset=utf-8\" http.response.duration=135.513602ms http.response.status=404 http\u001b[24;1H.response.written=96 vars.name=\"sudobmitch/demo\" vars.reference=ubuntu                             \u001b[K\r\n\u001b[K\u001b[?12l\u001b[?25h"]
[47.046952, "o", "\u001b[?25l\r\n\u001b[30m\u001b[42m[preso] 0:[tmux]*Z 1:vi-                                               \"bmitch-t490\" 17:55 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[47.572109, "o", "\u001b[24;71H"]
[48.072688, "o", "\u001b[23;100H$\u001b[23;100H"]
[48.102846, "o", "\u001b[A$\u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:[tmux]*Z 1:vi-                                               \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[22;100H\u001b[?12l\u001b[?25h"]
[48.131198, "o", "\u001b[A$\u001b[21;100H"]
[48.161432, "o", "\u001b[A$\u001b[20;100H"]
[48.492048, "o", "\u001b[A$\u001b[19;100H"]
[48.71568, "o", "\u001b[A$\u001b[18;100H"]
[48.900039, "o", "\u001b[A$\u001b[17;100H"]
[49.307546, "o", "i\u001b[17;100H"]
[49.805825, "o", "\b"]
[49.836505, "o", "\b"]
[49.8668, "o", "\b"]
[49.896871, "o", "\b"]
[49.926624, "o", "\b"]
[49.957602, "o", "\b"]
[49.987671, "o", "\b"]
[50.018516, "o", "\b"]
[50.048206, "o", "\b"]
[50.07869, "o", "\b"]
[50.10884, "o", "\b"]
[50.138268, "o", "\b"]
[50.16948, "o", "\b"]
[50.199021, "o", "\b"]
[50.233106, "o", "\b"]
[50.262789, "o", "\b"]
[50.293542, "o", "\b"]
[50.324797, "o", "\b"]
[50.354707, "o", "\b"]
[50.383829, "o", "\b"]
[50.417895, "o", "\b"]
[50.448941, "o", "\b"]
[50.476662, "o", "\b"]
[50.507128, "o", "\b"]
[50.537354, "o", "\b"]
[50.56761, "o", "\b"]
[50.601181, "o", "\b"]
[50.632184, "o", "\b"]
[50.660689, "o", "\b"]
[50.690477, "o", "\b"]
[50.721915, "o", "\b"]
[50.754956, "o", "\b"]
[50.783284, "o", "\b"]
[50.815066, "o", "\b"]
[50.842292, "o", "\b"]
[50.874575, "o", "\b"]
[50.904911, "o", "\b"]
[50.933503, "o", "\b"]
[50.963244, "o", "\b"]
[50.993216, "o", "\b"]
[51.023946, "o", "\b"]
[51.054725, "o", "\b"]
[51.084711, "o", "\b"]
[51.114562, "o", "\b"]
[51.145012, "o", "\b"]
[51.175333, "o", "\b"]
[51.507919, "o", "\u001b[C"]
[51.972356, "o", "\u001b[10;31Hµ\u001b[17;55H\u001b[30m\u001b[43m\"\u001b[18;100H\u001b[39m\u001b[49mt\u001b[19;100He\u001b[20;100Ht\u001b[21;100H-\u001b[22;100He\u001b[23;100Hp\u001b[17;55H"]
[52.356149, "o", "\u001b[30m\u001b[43m\"r\b\u001b(B\u001b[m"]
[52.856628, "o", "\b\u001b[30m\u001b[43m\"re\b\u001b(B\u001b[m"]
[52.886811, "o", "\b\b\u001b[30m\u001b[43m\"res\b\u001b(B\u001b[m"]
[52.917362, "o", "\u001b[3D\u001b[30m\u001b[43m\"resp\b\u001b(B\u001b[m"]
[52.945896, "o", "\u001b[4D\u001b[30m\u001b[43m\"respo\b\u001b(B\u001b[m"]
[52.976305, "o", "\u001b[5D\u001b[30m\u001b[43m\"respon\b\u001b(B\u001b[m"]
[53.00711, "o", "\u001b[6D\u001b[30m\u001b[43m\"respons\b\u001b(B\u001b[m"]
[53.036731, "o", "\u001b[7D\u001b[30m\u001b[43m\"response\b\u001b(B\u001b[m"]
[53.068323, "o", "\u001b[8D\u001b[30m\u001b[43m\"response \b\u001b(B\u001b[m"]
[53.098175, "o", "\u001b[9D\u001b[30m\u001b[43m\"response c\b\u001b(B\u001b[m"]
[53.129372, "o", "\u001b[10D\u001b[30m\u001b[43m\"response co\b\u001b(B\u001b[m"]
[53.159651, "o", "\u001b[11D\u001b[30m\u001b[43m\"response com\b\u001b(B\u001b[m"]
[53.189929, "o", "\u001b[12D\u001b[30m\u001b[43m\"response comp\b\u001b(B\u001b[m"]
[53.223332, "o", "\u001b[13D\u001b[30m\u001b[43m\"response compl\b\u001b(B\u001b[m"]
[53.251569, "o", "\u001b[14D\u001b[30m\u001b[43m\"response comple\b\u001b(B\u001b[m"]
[53.280771, "o", "\u001b[15D\u001b[30m\u001b[43m\"response complet\b\u001b(B\u001b[m"]
[53.310964, "o", "\u001b[16D\u001b[30m\u001b[43m\"response complete\b\u001b(B\u001b[m"]
[53.340534, "o", "\u001b[17D\u001b[30m\u001b[43m\"response completed\b\u001b(B\u001b[m"]
[53.373589, "o", "\u001b[18D\u001b[30m\u001b[43m\"response completed \b\u001b(B\u001b[m"]
[53.403604, "o", "\u001b[19D\u001b[30m\u001b[43m\"response completed w\b\u001b(B\u001b[m"]
[53.431562, "o", "\u001b[20D\u001b[30m\u001b[43m\"response completed wi\b\u001b(B\u001b[m"]
[53.462641, "o", "\u001b[21D\u001b[30m\u001b[43m\"response completed wit\b\u001b(B\u001b[m"]
[53.493951, "o", "\u001b[22D\u001b[30m\u001b[43m\"response completed with\b\u001b(B\u001b[m"]
[53.524284, "o", "\u001b[23D\u001b[30m\u001b[43m\"response completed with \b\u001b(B\u001b[m"]
[53.554821, "o", "\u001b[24D\u001b[30m\u001b[43m\"response completed with e\b\u001b(B\u001b[m"]
[53.584574, "o", "\u001b[25D\u001b[30m\u001b[43m\"response completed with er\b\u001b(B\u001b[m"]
[53.615108, "o", "\u001b[26D\u001b[30m\u001b[43m\"response completed with err\b\u001b(B\u001b[m"]
[53.644428, "o", "\u001b[27D\u001b[30m\u001b[43m\"response completed with erro\b\u001b(B\u001b[m"]
[53.674517, "o", "\u001b[28D\u001b[30m\u001b[43m\"response completed with error\b\u001b(B\u001b[m"]
[53.703927, "o", "\u001b[29D\u001b[30m\u001b[43m\"response completed with error\"\b\u001b(B\u001b[m"]
[53.736085, "o", "\u001b[30D\u001b[30m\u001b[43m\"response completed with error\" \b\u001b(B\u001b[m"]
[54.356717, "o", "\u001b[31D\u001b[30m\u001b[43m\"response completed with error\" e\b\u001b(B\u001b[m"]
[54.909153, "o", "\u001b[?25l\u001b[Htime=\"2020-05-10T21:55:29.360936142Z\" level=info msg=\"Purge uploads finished.  Num deleted=0, num errors=0\"\u001b[K\r\ntime=\"2020-05-10T21:55:29.360972574Z\" level=info msg=\"Starting upload purge in 24h0m0s\" go.version=go1.11.2 instance.id=5cec3835-49ec-4808-8a1c-3e95c9c062de service=registry version=v2.7.1           \u001b[K\r\ntime=\"2020-05-10T21:55:50.781648691Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=6ed74d74-2084-418e-b965-c1536c1dd92d http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44284\" http.request.uri=\"/v2/\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\"\u001b[K\r\nhttp.response.duration=\"755.99µs\" http.response.status=200 http.response.written=2                 \u001b[K\r\n192.168.70.3 - - [10/May/2020:21:55:50 +0000] \"GET /v2/ HTTP/1.1\" 200 2 \"\" \"docker/19.03.8"]
[54.909287, "o", " go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[K\r\n192.168.70.3 - - [10/May/2020:21:55:50 +0000] \"GET /v2/sudobmitch/demo/manifests/ubuntu HTTP/1.1\" 404 96 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"                                                \u001b[K\r\ntime=\"2020-05-10T21:55:50.918594693Z\" level=error msg=\"response completed with error\" err.code=\"manifest unknown\" err.detail=\"unknown tag=ubuntu\" err.message=\"manifest unknown\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=bc75135a-c558-4233-8bc9-6798c48f329b http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44286\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.respons"]
[54.909355, "o", "e.contenttype=\"application/json; charset=utf-8\" http.response.duration=135.513602ms http.response.status=404 http.response.written=96 vars.name=\"sudobmitch/demo\" vars.reference=ubuntu                             \u001b[K\r\n\u001b[K\u001b[?12l\u001b[?25h"]
[54.910724, "o", "\u001b[?25l\r\n\u001b[30m\u001b[42m[preso] 0:docker*Z 1:vi-                                               \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[55.965345, "o", "\u001b[?25l\u001b[8A───────────────────────────────────────────────────\u001b[32m─────────────────────────────────────────────────\u001b(B\u001b[m\u001b[1;1H\u001b[K\r\nLogin Succeeded\u001b[K\r\n/ # docker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n/ # docker image push sudobmitch/demo:ubuntu\u001b[K\r\nThe push refers to repository [docker.io/sudobmitch/demo]                                          \u001b[K\r\n8891751e0a17: Layer already exists\u001b[K\r\n2a19bd70fcd4: Layer already exists\u001b[K\r\n9e53fd489559: Layer already exists\u001b[K\r\n7789f1a3d4e9: Layer already exists\u001b[K\r\nubuntu: digest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8 size: 1152 \u001b[K\r\n/ # docker image pull sudobmitch/demo:ubuntu\u001b[K\r\nubuntu: Pulling from sudobmitch/demo\u001b[K\r\nDigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8                    \u001b[K\r\nStatus: Im"]
[55.965702, "o", "age is up to date for sudobmitch/demo:ubuntu                                             \u001b[K\r\ndocker.io/sudobmitch/demo:ubuntu\u001b[K\r\n/ #\u001b[K\u001b[18;1Hfest unknown\" err.detail=\"unknown tag=ubuntu\" err.message=\"manifest unknown\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=bc75135a-c558-4233-8bc9-6798c48f329b http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44286\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\" http.response.duration=135.513602ms http.response.status=404 http.response.written=96 vars.name=\"sudobmitch/demo\" vars.reference=ubuntu                             \u001b[K\r\n\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker* 1:vi-                                                \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[57.582245, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               "]
[57.582402, "o", "  \u001b[K\r\n                                                                                  81,1          33%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker- 1:vi*                                                \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[13;1H\u001b[?12l\u001b[?25h\u001b[?1006h\u001b[?1000h"]
[59.524285, "o", "\u001b[25;84H2\u001b[14;1H"]
[59.77225, "o", "\u001b[25;84H3\u001b[15;1H"]
[59.987794, "o", "\u001b[25;84H4\u001b[16;1H"]
[60.546379, "o", "\u001b[25;84H5\u001b[17;1H"]
[61.853693, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m                                                                                            \u001b[30m\u001b[43m[0/0]\u001b[39m\u001b[49m\u001b[2;1H\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var"]
[61.853851, "o", "/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n                                                                                  85,1          33%\u001b[K\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[61.85534, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:docker- 1:[tmux]*                                            \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[17;1H\u001b[?12l\u001b[?25h"]
[63.403966, "o", "\u001b[30m\u001b[43md\r\u001b(B\u001b[m"]
[63.739967, "o", "\u001b[30m\u001b[43mdocker container stop hub-cache                                                                     \u001b[18;1Hd\r\u001b(B\u001b[m"]
[63.972101, "o", "\u001b[30m\u001b[43mdocker container rm hub-cache                                                                       \u001b[19;1H#\r\u001b(B\u001b[m"]
[64.163927, "o", "\u001b[30m\u001b[43m# creds in .env file                                                                                \u001b[20;1H.\r\u001b(B\u001b[m"]
[64.363899, "o", "\u001b[30m\u001b[43m. ./.env                                                                                            \u001b[21;1Hd\r\u001b(B\u001b[m"]
[64.5567, "o", "\u001b[30m\u001b[43mdocker container run --env-file .env \\                                                              \u001b[22;1H \r\u001b(B\u001b[m"]
[64.744989, "o", "\u001b[30m\u001b[43m  -d --net cache --restart unless-stopped --name hub-cache \\                                        \u001b[23;1H \r\u001b(B\u001b[m"]
[64.938021, "o", "\u001b[30m\u001b[43m  -v \"hub-cache:/var/lib/registry\" \\                                                                \u001b[24;1H \r\u001b(B\u001b[m"]
[65.13666, "o", "\u001b[30m\u001b[43m  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                  \u001b[25;1H \r\u001b(B\u001b[m"]
[65.724121, "o", "\u001b[A\u001b[30m\u001b[43m \u001b[39m\u001b[49m -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                  \u001b[25;1H \u001b[24;1H"]
[67.181422, "o", "\u001b[?25l\u001b[H\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 4 - Login and Push to Private Repo\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker exec -it builder sh\u001b[K\r\n# login with token from .env file\u001b[K\r\necho \"$DOCKER_TOKEN\" | docker login -u \"$DOCKER_USER\" --password-stdin                             \u001b[K\r\ndocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               "]
[67.181774, "o", "  \u001b[K\r\n                                                                                  85,1          33%\u001b[K\u001b[17;1H\u001b[?12l\u001b[?25h\u001b[?1006h\u001b[?1000h"]
[67.183211, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:docker- 1:vi*                                                \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[17;1H\u001b[?12l\u001b[?25h"]
[67.532129, "o", "\u001b[25;84H6\u001b[18;1H"]
[68.032763, "o", "\u001b[25;84H7\u001b[19;1H"]
[68.063724, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[2C-e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\\u001b[25;83H\u001b[K88,1\u001b[10C34%\u001b[1;26r\u001b[19;1H"]
[68.093776, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[2C-e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[25;83H\u001b[K89,1\u001b[10C34%\u001b[1;26r\u001b[19;1H"]
[68.125987, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[2C-e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[25;83H\u001b[K90,1\u001b[10C35%\u001b[1;26r\u001b[19;1H"]
[68.154463, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[2Cregistry:2\u001b[25;83H\u001b[K91,1\u001b[10C35%\u001b[1;26r\u001b[19;1H"]
[68.185201, "o", "\u001b[1;24r\u001b[24;1H\n# split screen, show logs in separate terminal\u001b[25;83H\u001b[K92,1\u001b[10C36%\u001b[1;26r\u001b[19;1H"]
[68.216251, "o", "\u001b[1;24r\u001b[24;1H\ndocker container logs -f hub-cache\u001b[25;83H\u001b[K93,1\u001b[10C36%\u001b[1;26r\u001b[19;1H"]
[68.2491, "o", "\u001b[1;24r\u001b[24;1H\n# run push and pull in original window\u001b[25;83H\u001b[K94,1\u001b[10C37%\u001b[1;26r\u001b[19;1H"]
[68.279205, "o", "\u001b[1;24r\u001b[24;1H\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu\u001b[25;83H\u001b[K95,1\u001b[10C37%\u001b[1;26r\u001b[19;1H"]
[68.555883, "o", "\u001b[25;84H4\u001b[18;1H"]
[69.056515, "o", "\u001b[25;84H3\u001b[17;1H"]
[69.086899, "o", "\u001b[25;84H2\u001b[16;1H"]
[69.118124, "o", "\u001b[25;84H1\u001b[15;1H"]
[69.148263, "o", "\u001b[25;84H0\u001b[14;1H"]
[69.177206, "o", "\u001b[25;83H89\u001b[13;1H"]
[69.206647, "o", "\u001b[25;84H8\u001b[12;1H"]
[69.238722, "o", "\u001b[25;84H7\u001b[11;1H"]
[69.265239, "o", "\u001b[25;84H6\u001b[10;1H"]
[69.298925, "o", "\u001b[25;84H5\u001b[9;1H"]
[69.327415, "o", "\u001b[25;84H4\u001b[8;1H"]
[70.232976, "o", "\u001b[25;84H5\u001b[9;1H"]
[71.205287, "o", "\u001b[?25l\u001b[Hdocker image tag ubuntu sudobmitch/demo:ubuntu                                                 \u001b[30m\u001b[43m[0/0]\u001b[2;1H\u001b[39m\u001b[49m# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  re"]
[71.205645, "o", "gistry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n                                                                                  85,1          37%\u001b[K\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[71.206765, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:docker- 1:[tmux]*                                            \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[9;1H\u001b[?12l\u001b[?25h"]
[71.492241, "o", "\u001b[30m\u001b[43md\r\u001b(B\u001b[m"]
[71.860464, "o", "\u001b[30m\u001b[43mdocker container stop hub-cache                                                                     \u001b[10;1Hd\r\u001b(B\u001b[m"]
[72.076015, "o", "\u001b[30m\u001b[43mdocker container rm hub-cache                                                                       \u001b[11;1H#\r\u001b(B\u001b[m"]
[72.260385, "o", "\u001b[30m\u001b[43m# creds in .env file                                                                                \u001b[12;1H.\r\u001b(B\u001b[m"]
[72.451962, "o", "\u001b[30m\u001b[43m. ./.env                                                                                            \u001b[13;1Hd\r\u001b(B\u001b[m"]
[72.635803, "o", "\u001b[30m\u001b[43mdocker container run --env-file .env \\                                                              \u001b[14;1H \r\u001b(B\u001b[m"]
[72.81714, "o", "\u001b[30m\u001b[43m  -d --net cache --restart unless-stopped --name hub-cache \\                                        \u001b[15;1H \r\u001b(B\u001b[m"]
[73.004149, "o", "\u001b[30m\u001b[43m  -v \"hub-cache:/var/lib/registry\" \\                                                                \u001b[16;1H \r\u001b(B\u001b[m"]
[73.188039, "o", "\u001b[30m\u001b[43m  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                  \u001b[17;1H \r\u001b(B\u001b[m"]
[73.371991, "o", "\u001b[30m\u001b[43m  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                        \u001b[18;1H \r\u001b(B\u001b[m"]
[73.564535, "o", "\u001b[30m\u001b[43m  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\                                                       \u001b[19;1H \r\u001b(B\u001b[m"]
[73.747932, "o", "\u001b[30m\u001b[43m  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\                                                      \u001b[20;1H \r\u001b(B\u001b[m"]
[73.92386, "o", "\u001b[30m\u001b[43m  registry:2                                                                                        \u001b[21;1H#\r\u001b(B\u001b[m"]
[74.23593, "o", "\u001b[30m\u001b[43m# \b\u001b(B\u001b[m"]
[74.735735, "o", "\r\u001b[30m\u001b[43m# s\b\u001b(B\u001b[m"]
[74.765763, "o", "\r\u001b[30m\u001b[43m# sp\b\u001b(B\u001b[m"]
[74.794651, "o", "\r\u001b[30m\u001b[43m# spl\b\u001b(B\u001b[m"]
[74.8276, "o", "\r\u001b[30m\u001b[43m# spli\b\u001b(B\u001b[m"]
[74.855394, "o", "\r\u001b[30m\u001b[43m# split\b\u001b(B\u001b[m"]
[74.884163, "o", "\r\u001b[30m\u001b[43m# split \b\u001b(B\u001b[m"]
[74.914138, "o", "\r\u001b[30m\u001b[43m# split s\b\u001b(B\u001b[m"]
[74.946498, "o", "\r\u001b[30m\u001b[43m# split sc\b\u001b(B\u001b[m"]
[75.164086, "o", "\u001b[20;1H\u001b[30m\u001b[43m  registry\u001b[39m\u001b[49m:2                                                                                        \u001b[21;1H# split sc\u001b[20;10H"]
[75.323983, "o", "\r\u001b[30m\u001b[43m  registry:\b\u001b(B\u001b[m"]
[75.515908, "o", "\r\u001b[30m\u001b[43m  registry:2\b\u001b(B\u001b[m"]
[75.852103, "o", "\r\u001b[30m\u001b[43m  registry:2 \b\u001b(B\u001b[m"]
[76.364489, "o", "\r\u001b[30m\u001b[43m  registry:2\u001b[39m\u001b[49m \b\b"]
[79.370377, "o", "\u001b]52;;ZG9ja2VyIGNvbnRhaW5lciBzdG9wIGh1Yi1jYWNoZQpkb2NrZXIgY29udGFpbmVyIHJtIGh1Yi1jYWNoZQojIGNyZWRzIGluIC5lbnYgZmlsZQouIC4vLmVudgpkb2NrZXIgY29udGFpbmVyIHJ1biAtLWVudi1maWxlIC5lbnYgXAogIC1kIC0tbmV0IGNhY2hlIC0tcmVzdGFydCB1bmxlc3Mtc3RvcHBlZCAtLW5hbWUgaHViLWNhY2hlIFwKICAtdiAiaHViLWNhY2hlOi92YXIvbGliL3JlZ2lzdHJ5IiBcCiAgLWUgUkVHSVNUUllfU1RPUkFHRV9GSUxFU1lTVEVNX1JPT1RESVJFQ1RPUlk9L3Zhci9saWIvcmVnaXN0cnkgXAogIC1lIFJFR0lTVFJZX1BST1hZX1JFTU9URVVSTD1odHRwczovL3JlZ2lzdHJ5LTEuZG9ja2VyLmlvIFwKICAtZSBSRUdJU1RSWV9QUk9YWV9VU0VSTkFNRT0iJERPQ0tFUl9VU0VSIiBcCiAgLWUgUkVHSVNUUllfUFJPWFlfUEFTU1dPUkQ9IiRET0NLRVJfVE9LRU4iIFwKICByZWdpc3RyeToy\u0007\u001b[9;1H\u001b[?1006h\u001b[?1000h"]
[79.371853, "o", "\u001b[?25l\u001b[Hdocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker cont"]
[79.372086, "o", "ainer logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n                                                                                  85,1          37%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker- 1:vi*                                                \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[9;1H\u001b[?12l\u001b[?25h"]
[80.701718, "o", "\u001b[?25l\u001b[8B───────────────────────────────────────────────────\u001b[32m─────────────────────────────────────────────────\u001b(B\u001b[m\u001b[1;1H\u001b[K\r\nLogin Succeeded\u001b[K\r\n/ # docker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n/ # docker image push sudobmitch/demo:ubuntu\u001b[K\r\nThe push refers to repository [docker.io/sudobmitch/demo]                                          \u001b[K\r\n8891751e0a17: Layer already exists\u001b[K\r\n2a19bd70fcd4: Layer already exists\u001b[K\r\n9e53fd489559: Layer already exists\u001b[K\r\n7789f1a3d4e9: Layer already exists\u001b[K\r\nubuntu: digest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8 size: 1152 \u001b[K\r\n/ # docker image pull sudobmitch/demo:ubuntu\u001b[K\r\nubuntu: Pulling from sudobmitch/demo\u001b[K\r\nDigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8                    \u001b[K\r\nStatus: Im"]
[80.702165, "o", "age is up to date for sudobmitch/demo:ubuntu                                             \u001b[K\r\ndocker.io/sudobmitch/demo:ubuntu\u001b[K\r\n/ #\u001b[K\u001b[18;1Hfest unknown\" err.detail=\"unknown tag=ubuntu\" err.message=\"manifest unknown\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=bc75135a-c558-4233-8bc9-6798c48f329b http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44286\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\" http.response.duration=135.513602ms http.response.status=404 http.response.written=96 vars.name=\"sudobmitch/demo\" vars.reference=ubuntu                             \u001b[K\r\n\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker* 1:vi-                                                \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[81.517282, "o", "\u001b[?25l\u001b[32m\u001b[8A───────────────────────────────────────────────────\u001b[39m─────────────────────────────────────────────────\u001b(B\u001b[m\u001b[16;5H\u001b[?12l\u001b[?25h"]
[82.412251, "o", "e"]
[82.620073, "o", "x"]
[82.779855, "o", "i"]
[82.876273, "o", "t"]
[83.110174, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[1;26r\u001b[16;1H"]
[83.15925, "o", "$ "]
[83.748485, "o", "\u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h"]
[84.156985, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker container stop hub-cache\u001b[1;26r\u001b[16;1H"]
[84.3862, "o", "\u001b[25d$ \u001b[16;1H"]
[84.573658, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Ahub-cache\u001b[1;26r\u001b[16;1H"]
[84.575692, "o", "$ \u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker container rm hub-cache\u001b[1;26r\u001b[16;1H"]
[84.60594, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Ahub-cache\u001b[1;26r\u001b[16;1H"]
[84.608356, "o", "$ \u001b[1;16r\u001b[16;1H\n\u001b[15;3H# creds in .env file"]
[84.608391, "o", "\u001b[1;26r\u001b[16;1H\u001b[1;16r\u001b[16;1H\n\u001b[A$ . ./.env"]
[84.608404, "o", "\u001b[1;26r\u001b[16;1H"]
[84.608552, "o", "$ "]
[84.608646, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker container run --env-file .env \\\r\n> \u001b[1;26r\u001b[16;3H"]
[84.608724, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3H  -d --net cache --restart unless-stopped --name hub-cache \\\u001b[1;26r\u001b[16;1H> "]
[84.608791, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3H  -v \"hub-cache:/var/lib/registry\" \\\u001b[1;26r\u001b[16;1H> "]
[84.608893, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3H  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\\u001b[1;26r\u001b[16;1H> "]
[84.608995, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3H  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\\u001b[1;26r\u001b[16;1H> "]
[84.609082, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3H  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[1;26r\u001b[16;1H> "]
[84.609168, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3H  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[1;26r\u001b[16;1H> "]
[84.609204, "o", "  registry:2"]
[88.0041, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[1;26r\u001b[16;1H"]
[88.157089, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Ababd2be3c2fdc63d20916f411bc2c1e4588ec1522b925128ffe4ae468f8a02c0\u001b[1;26r\u001b[16;1H"]
[88.606754, "o", "$ \u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:docker* 1:vi-                                                \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h"]
[89.660128, "o", "\u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h"]
[90.808561, "o", "\u001b[?25l\u001b[Hdocker image tag ubuntu sudobmitch/demo:ubuntu\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker image push sudobmitch/demo:ubuntu\u001b[K\r\ndocker image pull sudobmitch/demo:ubuntu\u001b[K\r\nexit\u001b[K\r\n# recreate hub-cache image with credentials\u001b[K\r\ndocker container stop hub-cache\u001b[K\r\ndocker container rm hub-cache\u001b[K\r\n# creds in .env file\u001b[K\r\n. ./.env\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker cont"]
[90.808602, "o", "ainer logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n                                                                                  85,1          37%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[9;1H\u001b[?12l\u001b[?25h\u001b[?1006h\u001b[?1000h"]
[91.588298, "o", "\u001b[25;84H6\u001b[10;1H"]
[92.088915, "o", "\u001b[25;84H7\u001b[11;1H"]
[92.118954, "o", "\u001b[25;84H8\u001b[12;1H"]
[92.14844, "o", "\u001b[25;84H9\u001b[13;1H"]
[92.177409, "o", "\u001b[25;83H90\u001b[14;1H"]
[92.207066, "o", "\u001b[25;84H1\u001b[15;1H"]
[92.237938, "o", "\u001b[25;84H2\u001b[16;1H"]
[92.267287, "o", "\u001b[25;84H3\u001b[17;1H"]
[92.300629, "o", "\u001b[25;84H4\u001b[18;1H"]
[92.331425, "o", "\u001b[25;84H5\u001b[19;1H"]
[92.359338, "o", "\u001b[1;24r\u001b[24;1H\n# run a fresh builder\u001b[25;83H\u001b[K96,1\u001b[10C38%\u001b[1;26r\u001b[19;1H"]
[92.389737, "o", "\u001b[1;24r\u001b[24;1H\ndocker container stop builder\u001b[25;83H\u001b[K97,1\u001b[10C38%\u001b[1;26r\u001b[19;1H"]
[92.422656, "o", "\u001b[1;24r\u001b[24;1H\ndocker container rm builder\u001b[25;83H\u001b[K98,1\u001b[10C39%\u001b[1;26r\u001b[19;1H"]
[92.453096, "o", "\u001b[1;24r\u001b[24;1H\ndocker volume rm dind\u001b[25;83H\u001b[K99,1\u001b[10C39%\u001b[1;26r\u001b[19;1H"]
[92.483174, "o", "\u001b[1;24r\u001b[24;1H\ndocker container run --env-file .env \\\u001b[25;83H\u001b[K100,1\u001b[9C40%\u001b[1;26r\u001b[19;1H"]
[92.513097, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[2C-d --net cache --restart unless-stopped --name builder --privileged \\\u001b[25;83H\u001b[K101,1\u001b[9C40%\u001b[1;26r\u001b[19;1H"]
[92.544126, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[2C-v dind:/var/lib/docker \\\u001b[25;83H\u001b[K102,1\u001b[9C41%\u001b[1;26r\u001b[19;1H"]
[92.574638, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[2Cdocker:dind --registry-mirror http://hub-cache:5000\u001b[25;83H\u001b[K103,1\u001b[9C41%\u001b[1;26r\u001b[19;1H"]
[92.601658, "o", "\u001b[1;24r\u001b[24;1H\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu\u001b[25;83H\u001b[K104,1\u001b[9C42%\u001b[1;26r\u001b[19;1H"]
[92.630949, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[25;83H\u001b[K105,1\u001b[9C42%\u001b[1;26r\u001b[19;1H"]
[93.052397, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[25;83H\u001b[K106,1\u001b[9C43%\u001b[1;26r\u001b[19;1H"]
[93.236939, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[25;83H\u001b[K107,1\u001b[9C43%\u001b[1;26r\u001b[19;1H"]
[93.443815, "o", "\u001b[25;85H6\u001b[18;1H"]
[93.942608, "o", "\u001b[25;85H5\u001b[17;1H"]
[93.972537, "o", "\u001b[25;85H4\u001b[16;1H"]
[94.002626, "o", "\u001b[25;85H3\u001b[15;1H"]
[94.032675, "o", "\u001b[25;85H2\u001b[14;1H"]
[94.061909, "o", "\u001b[25;85H1\u001b[13;1H"]
[94.09235, "o", "\u001b[25;85H0\u001b[12;1H"]
[94.122347, "o", "\u001b[25;83H99,1 \u001b[11;1H"]
[94.152588, "o", "\u001b[25;84H8\u001b[10;1H"]
[94.644209, "o", "\u001b[25;84H9\u001b[11;1H"]
[94.852007, "o", "\u001b[25;83H100,1\u001b[12;1H"]
[96.085562, "o", "\u001b[?25l\u001b[Hdocker container run --env-file .env \\                                                         \u001b[30m\u001b[43m[0/0]\u001b[2;1H\u001b[39m\u001b[49m  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n# run a fresh builder\u001b[K\r\ndocker container stop builder\u001b[K\r\ndocker container rm builder\u001b[K\r\ndocker volume rm dind\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --r"]
[96.085993, "o", "estart unless-stopped --name builder --privileged \\                            \u001b[K\r\n  -v dind:/var/lib/docker \\\u001b[K\r\n  docker:dind --registry-mirror http://hub-cache:5000                                              \u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[K\r\n                                                                                  100,1         43%\u001b[K\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[96.08718, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:bash- 1:[tmux]*                                              \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[12;1H\u001b[?12l\u001b[?25h"]
[96.417206, "o", "\u001b[30m\u001b[43md\r\u001b(B\u001b[m"]
[96.772558, "o", "\u001b[30m\u001b[43mdocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                          \u001b[13;1H#\r\u001b(B\u001b[m"]
[96.900155, "o", "\u001b[A\u001b[30m\u001b[43md\u001b[39m\u001b[49mocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                          \u001b[13;1H#\u001b[12;1H\u001b[30m\u001b[43mdocker container exec -it builder docker image pull sudobmitch/demo:ubuntu \b\u001b(B\u001b[m"]
[98.14002, "o", "\r\u001b[30m\u001b[43mdocker container exec -it builder docker image pull sudobmitch/demo:ubuntu\u001b[39m\u001b[49m \b\b"]
[98.499328, "o", "\u001b]52;;ZG9ja2VyIGNvbnRhaW5lciBleGVjIC1pdCBidWlsZGVyIGRvY2tlciBpbWFnZSBwdWxsIHN1ZG9ibWl0Y2gvZGVtbzp1YnVudHU=\u0007\r\u001b[?1006h\u001b[?1000h"]
[98.501672, "o", "\u001b[?25l\u001b[Hdocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n# run a fresh builder\u001b[K\r\ndocker container stop builder\u001b[K\r\ndocker container rm builder\u001b[K\r\ndocker volume rm dind\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name builder --privileged \\                            \u001b[K\r"]
[98.501977, "o", "\n  -v dind:/var/lib/docker \\\u001b[K\r\n  docker:dind --registry-mirror http://hub-cache:5000                                              \u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[K\r\n                                                                                  100,1         43%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[12;1H\u001b[?12l\u001b[?25h"]
[99.59759, "o", "\u001b[?25l\u001b[32m\u001b[5B───────────────────────────────────────────────────\u001b[39m─────────────────────────────────────────────────\u001b[1;1H\u001b(B\u001b[m$ docker container stop hub-cache\u001b[K\r\nhub-cache\u001b[K\r\n$ docker container rm hub-cache\u001b[K\r\nhub-cache\u001b[K\r\n$ # creds in .env file\u001b[K\r\n$ . ./.env\u001b[K\r\n$ docker container run --env-file .env \\\u001b[K\r\n>   -d --net cache --restart unless-stopped --name hub-cache \\                                     \u001b[K\r\n>   -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n>   -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               \u001b[K\r\n>   -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                     \u001b[K\r\n>   -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n>   -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n>   registry:2\u001b[K\r\nbabd2be3c2fdc63d20916f41"]
[99.597732, "o", "1bc2c1e4588ec1522b925128ffe4ae468f8a02c0                                   \u001b[K\r\n$\u001b[K\u001b[18;1Hfest unknown\" err.detail=\"unknown tag=ubuntu\" err.message=\"manifest unknown\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=bc75135a-c558-4233-8bc9-6798c48f329b http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44286\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\" http.response.duration=135.513602ms http.response.status=404 http.response.written=96 vars.name=\"sudobmitch/demo\" vars.reference=ubuntu                             \u001b[K\r\n$\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[100.524717, "o", "docker container exec -it builder docker image pull sudobmitch/demo:ubuntu"]
[101.092191, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[1;26r\u001b[16;1H"]
[101.599072, "o", "\u001b[1;16r\u001b[3S\u001b[13dubuntu: Pulling from sudobmitch/demo\r\nDigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8\r\nStatus: Image is up to date for sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[101.600973, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:docker* 1:vi-                                                \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[16;1H\u001b[?12l\u001b[?25h\u001b[1;16r\u001b[16;1H\n\u001b[Adocker.io/sudobmitch/demo:ubuntu"]
[101.601223, "o", "\u001b[1;26r\u001b[16;1H"]
[101.648926, "o", "$ "]
[103.004359, "o", "\u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h"]
[103.285122, "o", "\u001b[?25l\r\n───────────────────────────────────────────────────\u001b[32m─────────────────────────────────────────────────\u001b(B\u001b[m\u001b[25;3H\u001b[?12l\u001b[?25h"]
[104.157558, "o", "\u001b[?25l\u001b[Htime=\"2020-05-10T21:55:29.360936142Z\" level=info msg=\"Purge uploads finished.  Num deleted=0, num errors=0\"\u001b[K\r\ntime=\"2020-05-10T21:55:29.360972574Z\" level=info msg=\"Starting upload purge in 24h0m0s\" go.version=go1.11.2 instance.id=5cec3835-49ec-4808-8a1c-3e95c9c062de service=registry version=v2.7.1           \u001b[K\r\ntime=\"2020-05-10T21:55:50.781648691Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=6ed74d74-2084-418e-b965-c1536c1dd92d http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44284\" http.request.uri=\"/v2/\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\"\u001b[K\r\nhttp.response.duration=\"755.99µs\" http.response.status=200 http.response.written=2                 \u001b[K\r\n192.168.70.3 - - [10/May/2020:21:55:50 +0000] \"GET /v2/ HTTP/1.1\" 200 2 \"\" \"docker/19.03.8"]
[104.157861, "o", " go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[K\r\n192.168.70.3 - - [10/May/2020:21:55:50 +0000] \"GET /v2/sudobmitch/demo/manifests/ubuntu HTTP/1.1\" 404 96 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"                                                \u001b[K\r\ntime=\"2020-05-10T21:55:50.918594693Z\" level=error msg=\"response completed with error\" err.code=\"manifest unknown\" err.detail=\"unknown tag=ubuntu\" err.message=\"manifest unknown\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=bc75135a-c558-4233-8bc9-6798c48f329b http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44286\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.respons"]
[104.158125, "o", "e.contenttype=\"application/json; charset=utf-8\" http.response.duration=135.513602ms http.response.status=404 http.response.written=96 vars.name=\"sudobmitch/demo\" vars.reference=ubuntu                             \u001b[K\r\n$\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash*Z 1:vi-                                                 \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[25;3H\u001b[?12l\u001b[?25h\r\u001b[K$ "]
[104.963678, "o", "docker container logs -f hub-cache"]
[105.668319, "o", "\u001b[1;25r\u001b[25;1H\n\u001b[1;26r\u001b[25;1H"]
[105.730334, "o", "\u001b[1;25r\u001b[5S\u001b[20dtime=\"2020-05-10T21:56:40.540583922Z\" level=warning msg=\"No HTTP secret provided - generated random secret. This may cause problems with uploads if multiple registries are behind a load-balancer. To provide a shared secret, fill in http.secret in the configuration file or set the REGISTRY_HTTP_SECRET environment variable.\" go.version=go1.11.2 instance.id=21edb638-8607-4c9b-b70c-f362f3edfeab service=registry version=v2.7.1 \u001b[1;26r\u001b[25;1H\u001b[1;25r\u001b[25S\u001b[Hocker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\" http.response.duration=1.089318ms http.response.status=200 http.response.written=2 \r\n192.168.70.3 - - [10/May/2020:21:56:53 +0000] \"GET /v2/ HTTP/1.1\" 200 2 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\r\ntime=\"2020-05-10T21:56:53.260425107Z\" level=info"]
[105.730449, "o", " msg=\"Challenge established with upstream : {https   registry-1.docker.io /v2/  %!s(bool=false)  } &{{{%!s(int32=0) %!s(uint32=0)} %!s(uint32=0) %!s(uint32=0) %!s(int32=0) %!s(int32=0)} map[https://registry-1.docker.io:443/v2/:[{bearer map[realm:https://auth.docker.io/token service:registry.docker.io]}]]}\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" vars.name=\"sudobmitch/demo\" vars.reference=ubuntu \r\ntime=\"2020-05-10T21:56:53.526188467Z\" level=info msg=\"Adding new scheduler entry for sudobmitch/demo@sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8 with ttl=167h59m59.999994579s\" go.version=go1.11.2 instance.id=21edb638-8607-4c9b-b70c-f362f3"]
[105.730498, "o", "edfeab service=registry version=v2.7.1 \r\n192.168.70.3 - - [10/May/2020:21:56:53 +0000] \"GET /v2/sudobmitch/demo/manifests/ubuntu HTTP/1.1\" 200 1152 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\r\ntime=\"2020-05-10T21:56:53.52666037Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/u\u001b[1;26r\u001b[25;100H\u001b[1;25r\u001b[5S\u001b[20;100Hbuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/vnd.docker.distribution.manifest.v2+json\" http.response.duration=344.95235ms http.response.status=200 http.response.written=1152 \u001b[1;26r\u001b[25;1H"]
[107.016289, "o", "\u001b[?25l\r\n\u001b[30m\u001b[42m[preso] 0:docker*Z 1:vi-                                               \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[107.877584, "o", "\u001b[?25l\u001b[H03.8 \\\\(linux\\\\))\"                                                                           \u001b[30m\u001b[43m[0/374]\u001b[2;1H\u001b[39m\u001b[49mtime=\"2020-05-10T21:56:53.260425107Z\" level=info msg=\"Challenge established with upstream : {https \u001b[K\r\n registry-1.docker.io /v2/  %!s(bool=false)  } &{{{%!s(int32=0) %!s(uint32=0)} %!s(uint32=0) %!s(uin\u001b[4;1Ht32=0) %!s(int32=0) %!s(int32=0)} map[https://registry-1.docker.io:443/v2/:[{bearer map[realm:https:\u001b[5;1H//auth.docker.io/token service:registry.docker.io]}]]}\" go.version=go1.11.2 http.request.host=\"hub-c\u001b[6;1Hache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method=GET http.request\u001b[7;1H.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.reques\u001b[8;1Ht.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/a\u001b[9;1Hmd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" vars.name=\"sudobmitch/demo\" vars.reference=ubu\u001b[10;1Hntu\u001b[K\r\ntime=\"2020-05-10T21:56:53.52618846"]
[107.877692, "o", "7Z\" level=info msg=\"Adding new scheduler entry for sudobmitch/demo\u001b[12;1H@sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8 with ttl=167h59m59.99999457\u001b[13;1H9s\" go.version=go1.11.2 instance.id=21edb638-8607-4c9b-b70c-f362f3edfeab service=registry version=v2\u001b[14;1H.7.1\u001b[K\r\n192.168.70.3 - - [10/May/2020:21:56:53 +0000] \"GET /v2/sudobmitch/demo/manifests/ubuntu HTTP/1.1\" 20\u001b[16;1H0 1152 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd\u001b[17;1H64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"                                              \u001b[K\r\ntime=\"2020-05-10T21:56:53.52666037Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.re\u001b[19;1Hquest.host=\"hub-cache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method\u001b[20;1H=GET http.request.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ub\u001b[21;1Huntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4."]
[107.878046, "o", "19.0-8-amd6\u001b[22;1H4 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"ap\u001b[23;1Hplication/vnd.docker.distribution.manifest.v2+json\" http.response.duration=344.95235ms http.response\u001b[24;1H.status=200 http.response.written=1152\u001b[K\r\n\u001b[K\u001b[?12l\u001b[?25h"]
[107.879059, "o", "\u001b[?25l\r\n\u001b[30m\u001b[42m[preso] 0:[tmux]*Z 1:vi-                                               \"bmitch-t490\" 17:56 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[108.324087, "o", "\u001b[?25l\r\n\u001b[30m\u001b[42m[preso] 0:[tmux]*Z 1:vi-                                               \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[24;39H\u001b[?12l\u001b[?25h"]
[108.823638, "o", "\u001b[23;100H$\u001b[23;100H"]
[108.854706, "o", "\u001b[A$\u001b[22;100H"]
[108.883752, "o", "\u001b[A$\u001b[21;100H"]
[108.912751, "o", "\u001b[A$\u001b[20;100H"]
[108.943685, "o", "\u001b[A$\u001b[19;100H"]
[108.973455, "o", "\u001b[A$\u001b[18;100H"]
[109.588197, "o", "e\u001b[18;100H"]
[110.086186, "o", "\b"]
[110.116513, "o", "\b"]
[110.145746, "o", "\b"]
[110.17676, "o", "\b"]
[110.208205, "o", "\b"]
[110.242858, "o", "\b"]
[110.272867, "o", "\b"]
[110.301661, "o", "\b"]
[110.330947, "o", "\b"]
[110.361032, "o", "\b"]
[110.39128, "o", "\b"]
[110.421073, "o", "\b"]
[110.452381, "o", "\b"]
[110.483143, "o", "\b"]
[110.515785, "o", "\b"]
[110.543326, "o", "\b"]
[110.576359, "o", "\b"]
[110.603703, "o", "\b"]
[110.633638, "o", "\b"]
[110.664161, "o", "\b"]
[110.693854, "o", "\b"]
[110.727801, "o", "\b"]
[110.758342, "o", "\b"]
[110.785645, "o", "\b"]
[110.81575, "o", "\b"]
[110.847024, "o", "\b"]
[110.879026, "o", "\b"]
[111.308356, "o", "\u001b[30m\u001b[43m \u001b[19;100H\u001b[39m\u001b[49md\u001b[20;100Hb\u001b[21;100H6\u001b[22;100Hp\u001b[23;100He\u001b[18;73H"]
[111.467784, "o", "\b\u001b[30m\u001b[43m\" \b\b\u001b(B\u001b[m"]
[111.968865, "o", "\b\u001b[30m\u001b[43md\" \u001b[3D\u001b(B\u001b[m"]
[111.995685, "o", "\b\u001b[30m\u001b[43med\" \u001b[4D\u001b(B\u001b[m"]
[112.027928, "o", "\b\u001b[30m\u001b[43mted\" \u001b[5D\u001b(B\u001b[m"]
[112.061469, "o", "\b\u001b[30m\u001b[43meted\" \u001b[6D\u001b(B\u001b[m"]
[112.089574, "o", "\b\u001b[30m\u001b[43mleted\" \u001b[7D\u001b(B\u001b[m"]
[112.119736, "o", "\b\u001b[30m\u001b[43mpleted\" \u001b[8D\u001b(B\u001b[m"]
[112.147655, "o", "\b\u001b[30m\u001b[43mmpleted\" \u001b[9D\u001b(B\u001b[m"]
[112.178013, "o", "\b\u001b[30m\u001b[43mompleted\" \u001b[10D\u001b(B\u001b[m"]
[112.209052, "o", "\b\u001b[30m\u001b[43mcompleted\" \u001b[11D\u001b(B\u001b[m"]
[112.239478, "o", "\b\u001b[30m\u001b[43m completed\" \u001b[12D\u001b(B\u001b[m"]
[112.272706, "o", "\b\u001b[30m\u001b[43me completed\" \u001b[13D\u001b(B\u001b[m"]
[112.300595, "o", "\b\u001b[30m\u001b[43mse completed\" \u001b[14D\u001b(B\u001b[m"]
[112.330415, "o", "\b\u001b[30m\u001b[43mnse completed\" \u001b[15D\u001b(B\u001b[m"]
[112.360665, "o", "\b\u001b[30m\u001b[43monse completed\" \u001b[16D\u001b(B\u001b[m"]
[112.389654, "o", "\b\u001b[30m\u001b[43mponse completed\" \u001b[17D\u001b(B\u001b[m"]
[112.419693, "o", "\b\u001b[30m\u001b[43msponse completed\" \u001b[18D\u001b(B\u001b[m"]
[112.453253, "o", "\b\u001b[30m\u001b[43mesponse completed\" \u001b[19D\u001b(B\u001b[m"]
[112.480499, "o", "\b\u001b[30m\u001b[43mresponse completed\" \u001b[20D\u001b(B\u001b[m"]
[112.510604, "o", "\b\u001b[30m\u001b[43m\"response completed\" \u001b[21D\u001b(B\u001b[m"]
[112.541928, "o", "\b\u001b[30m\u001b[43m=\"response completed\" \u001b[22D\u001b(B\u001b[m"]
[112.573882, "o", "\b\u001b[30m\u001b[43mg=\"response completed\" \u001b[23D\u001b(B\u001b[m"]
[112.605912, "o", "\b\u001b[30m\u001b[43msg=\"response completed\" \u001b[24D\u001b(B\u001b[m"]
[112.63442, "o", "\b\u001b[30m\u001b[43mmsg=\"response completed\" \u001b[25D\u001b(B\u001b[m"]
[112.6616, "o", "\b\u001b[30m\u001b[43m msg=\"response completed\" \u001b[26D\u001b(B\u001b[m"]
[112.691381, "o", "\b\u001b[30m\u001b[43mo msg=\"response completed\" \u001b[27D\u001b(B\u001b[m"]
[113.309972, "o", "\u001b[?25l\u001b[H03.8 \\\\(linux\\\\))\"\u001b[K\r\ntime=\"2020-05-10T21:56:53.260425107Z\" level=info msg=\"Challenge established with upstream : {https \u001b[K\r\n registry-1.docker.io /v2/  %!s(bool=false)  } &{{{%!s(int32=0) %!s(uint32=0)} %!s(uint32=0) %!s(uint32=0) %!s(int32=0) %!s(int32=0)} map[https://registry-1.docker.io:443/v2/:[{bearer map[realm:https://auth.docker.io/token service:registry.docker.io]}]]}\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" vars.name=\"sudobmitch/demo\" vars.reference=ubuntu\u001b[K\r\ntime=\"2020-05-10T21:56:53.526188467Z\" level=info msg=\"Adding new scheduler entry for sudobmitch/demo@sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8 with tt"]
[113.310395, "o", "l=167h59m59.999994579s\" go.version=go1.11.2 instance.id=21edb638-8607-4c9b-b70c-f362f3edfeab service=registry version=v2.7.1\u001b[K\r\n192.168.70.3 - - [10/May/2020:21:56:53 +0000] \"GET /v2/sudobmitch/demo/manifests/ubuntu HTTP/1.1\" 200 1152 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"                                              \u001b[K\r\ntime=\"2020-05-10T21:56:53.52666037Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/vnd.docker.distribution.manifest.v2+json\" http.response.duration=344.95235ms http"]
[113.310595, "o", ".response.status=200 http.response.written=1152\u001b[K\r\n\u001b[K\u001b[?12l\u001b[?25h"]
[113.311625, "o", "\u001b[?25l\r\n\u001b[30m\u001b[42m[preso] 0:docker*Z 1:vi-                                               \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[114.813565, "o", "\u001b[?25l\u001b[8A───────────────────────────────────────────────────\u001b[32m─────────────────────────────────────────────────\u001b[1;1H\u001b(B\u001b[m$ . ./.env\u001b[K\r\n$ docker container run --env-file .env \\\u001b[K\r\n>   -d --net cache --restart unless-stopped --name hub-cache \\                                     \u001b[K\r\n>   -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n>   -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               \u001b[K\r\n>   -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                     \u001b[K\r\n>   -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n>   -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n>   registry:2\u001b[K\r\nbabd2be3c2fdc63d20916f411bc2c1e4588ec1522b925128ffe4ae468f8a02c0                                   \u001b[K\r\n$ docker container exec -it builder docker image pull "]
[114.813908, "o", "sudobmitch/demo:ubuntu                       \u001b[K\r\nubuntu: Pulling from sudobmitch/demo\u001b[K\r\nDigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8                    \u001b[K\r\nStatus: Image is up to date for sudobmitch/demo:ubuntu                                             \u001b[K\r\ndocker.io/sudobmitch/demo:ubuntu\u001b[K\r\n$\u001b[K\u001b[18;1Htime=\"2020-05-10T21:56:53.52666037Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/vnd.docker.distribution.manifest.v2+json\" http.response.duration=344.95235ms http.response.status=200 http.response.written=1152\u001b[K\r\n\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:docker* 1"]
[114.814025, "o", ":vi-                                                \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[25;1H\u001b[?12l\u001b[?25h"]
[115.772972, "o", "\u001b[?25l\u001b[32m\u001b[8A───────────────────────────────────────────────────\u001b[39m─────────────────────────────────────────────────\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h"]
[115.774443, "o", "\u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h"]
[117.005175, "o", "\u001b[?25l\u001b[Hdocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n# run a fresh builder\u001b[K\r\ndocker container stop builder\u001b[K\r\ndocker container rm builder\u001b[K\r\ndocker volume rm dind\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name builder --privileged \\                            \u001b[K\r"]
[117.005586, "o", "\n  -v dind:/var/lib/docker \\\u001b[K\r\n  docker:dind --registry-mirror http://hub-cache:5000                                              \u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[K\r\n                                                                                  100,1         43%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[12;1H\u001b[?12l\u001b[?25h\u001b[?1006h\u001b[?1000h"]
[118.572494, "o", "\u001b[25;85H1\u001b[13;1H"]
[118.748024, "o", "\u001b[25;85H2\u001b[14;1H"]
[119.944883, "o", "\u001b[?25l\u001b[Hdocker container run --env-file .env \\                                                         \u001b[30m\u001b[43m[0/0]\u001b[2;1H\u001b[39m\u001b[49m  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n# run a fresh builder\u001b[K\r\ndocker container stop builder\u001b[K\r\ndocker container rm builder\u001b[K\r\ndocker volume rm dind\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --r"]
[119.944932, "o", "estart unless-stopped --name builder --privileged \\                            \u001b[K\r\n  -v dind:/var/lib/docker \\\u001b[K\r\n  docker:dind --registry-mirror http://hub-cache:5000                                              \u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[K\r\n                                                                                  102,1         43%\u001b[K\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[119.945321, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:bash- 1:[tmux]*                                              \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[14;1H\u001b[?12l\u001b[?25h"]
[120.336663, "o", "\u001b[30m\u001b[43md\r\u001b(B\u001b[m"]
[120.84876, "o", "\u001b[30m\u001b[43mdocker container stop builder                                                                       \u001b[15;1Hd\r\u001b(B\u001b[m"]
[121.065206, "o", "\u001b[30m\u001b[43mdocker container rm builder                                                                         \u001b[16;1Hd\r\u001b(B\u001b[m"]
[121.268215, "o", "\u001b[30m\u001b[43mdocker volume rm dind                                                                               \u001b[17;1Hd\r\u001b(B\u001b[m"]
[121.452133, "o", "\u001b[30m\u001b[43mdocker container run --env-file .env \\                                                              \u001b[18;1H \r\u001b(B\u001b[m"]
[121.643589, "o", "\u001b[30m\u001b[43m  -d --net cache --restart unless-stopped --name builder --privileged \\                             \u001b[19;1H \r\u001b(B\u001b[m"]
[121.843931, "o", "\u001b[30m\u001b[43m  -v dind:/var/lib/docker \\                                                                         \u001b[20;1H \r\u001b(B\u001b[m"]
[122.739978, "o", "\u001b[30m\u001b[43m  docker:dind --registry-mirror http://hub-cache:5000                                               \u001b[21;1Hd\r\u001b(B\u001b[m"]
[123.636261, "o", "\u001b[A\u001b[30m\u001b[43m \u001b[39m\u001b[49m docker:dind --registry-mirror http://hub-cache:5000                                               \u001b[21;1Hd\u001b[20;1H\u001b[30m\u001b[43m  docker:dind --registry-mirror http://hub-cache:5000 \b\u001b(B\u001b[m"]
[123.836172, "o", "\r\u001b[30m\u001b[43m  docker:dind --registry-mirror http://hub-cache:5000\u001b[39m\u001b[49m \b\b"]
[124.531602, "o", "\u001b]52;;ZG9ja2VyIGNvbnRhaW5lciBzdG9wIGJ1aWxkZXIKZG9ja2VyIGNvbnRhaW5lciBybSBidWlsZGVyCmRvY2tlciB2b2x1bWUgcm0gZGluZApkb2NrZXIgY29udGFpbmVyIHJ1biAtLWVudi1maWxlIC5lbnYgXAogIC1kIC0tbmV0IGNhY2hlIC0tcmVzdGFydCB1bmxlc3Mtc3RvcHBlZCAtLW5hbWUgYnVpbGRlciAtLXByaXZpbGVnZWQgXAogIC12IGRpbmQ6L3Zhci9saWIvZG9ja2VyIFwKICBkb2NrZXI6ZGluZCAtLXJlZ2lzdHJ5LW1pcnJvciBodHRwOi8vaHViLWNhY2hlOjUwMDA=\u0007\u001b[14;1H\u001b[?1006h\u001b[?1000h"]
[124.533868, "o", "\u001b[?25l\u001b[Hdocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n# run a fresh builder\u001b[K\r\ndocker container stop builder\u001b[K\r\ndocker container rm builder\u001b[K\r\ndocker volume rm dind\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name builder --privileged \\                            \u001b[K\r"]
[124.534251, "o", "\n  -v dind:/var/lib/docker \\\u001b[K\r\n  docker:dind --registry-mirror http://hub-cache:5000                                              \u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[K\r\n                                                                                  102,1         43%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[14;1H\u001b[?12l\u001b[?25h"]
[125.173779, "o", "\u001b[?25l\u001b[32m\u001b[3B───────────────────────────────────────────────────\u001b[39m─────────────────────────────────────────────────\u001b[1;1H\u001b(B\u001b[m$ . ./.env\u001b[K\r\n$ docker container run --env-file .env \\\u001b[K\r\n>   -d --net cache --restart unless-stopped --name hub-cache \\                                     \u001b[K\r\n>   -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n>   -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                               \u001b[K\r\n>   -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                     \u001b[K\r\n>   -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n>   -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n>   registry:2\u001b[K\r\nbabd2be3c2fdc63d20916f411bc2c1e4588ec1522b925128ffe4ae468f8a02c0                                   \u001b[K\r\n$ docker container exec -it builder docker image "]
[125.173895, "o", "pull sudobmitch/demo:ubuntu                       \u001b[K\r\nubuntu: Pulling from sudobmitch/demo\u001b[K\r\nDigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8                    \u001b[K\r\nStatus: Image is up to date for sudobmitch/demo:ubuntu                                             \u001b[K\r\ndocker.io/sudobmitch/demo:ubuntu\u001b[K\r\n$\u001b[K\u001b[18;1Htime=\"2020-05-10T21:56:53.52666037Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/vnd.docker.distribution.manifest.v2+json\" http.response.duration=344.95235ms http.response.status=200 http.response.written=1152\u001b[K\r\n\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash"]
[125.174324, "o", "* 1:vi-                                                  \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[127.147857, "o", "e"]
[127.403472, "o", "x"]
[127.627363, "o", "i"]
[127.891762, "o", "t"]
[129.419898, "o", "\b\u001b[K"]
[129.919575, "o", "\b\u001b[K"]
[129.949686, "o", "\b\u001b[K"]
[129.978314, "o", "\b\u001b[K"]
[130.006915, "o", "\u0007"]
[130.040173, "o", "\u0007"]
[130.070712, "o", "\u0007"]
[130.973009, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker container stop builder\u001b[1;26r\u001b[16;1H"]
[132.449945, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Abuilder\u001b[1;26r\u001b[16;1H"]
[132.456389, "o", "$ "]
[132.456693, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker container rm builder\u001b[1;26r\u001b[16;1H"]
[132.519609, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Abuilder\u001b[1;26r\u001b[16;1H"]
[132.52212, "o", "$ \u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker volume rm dind"]
[132.522233, "o", "\u001b[1;26r\u001b[16;1H"]
[132.603094, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Adind\u001b[1;26r\u001b[16;1H"]
[132.61072, "o", "$ "]
[132.611022, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker container run --env-file .env \\\u001b[1;26r\u001b[16;1H"]
[132.611324, "o", "> "]
[132.611783, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3H  -d --net cache --restart unless-stopped --name builder --privileged \\\u001b[1;26r\u001b[16;1H> "]
[132.612055, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3H  -v dind:/var/lib/docker \\\u001b[1;26r\u001b[16;1H> "]
[132.612424, "o", "  docker:dind --registry-mirror http://hub-cache:5000"]
[133.980288, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[1;26r\u001b[16;1H"]
[134.108411, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[A6eeaf7d260168f02418595ebc61484912592be26c5eab8b425227a3700871093\u001b[1;26r\u001b[16;1H"]
[134.459115, "o", "$ "]
[136.008394, "o", "\u001b[?25l\u001b[Hdocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name hub-cache \\                                       \u001b[K\r\n  -v \"hub-cache:/var/lib/registry\" \\\u001b[K\r\n  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n# run a fresh builder\u001b[K\r\ndocker container stop builder\u001b[K\r\ndocker container rm builder\u001b[K\r\ndocker volume rm dind\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name builder --privileged \\                            \u001b[K\r"]
[136.00849, "o", "\n  -v dind:/var/lib/docker \\\u001b[K\r\n  docker:dind --registry-mirror http://hub-cache:5000                                              \u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[K\r\n                                                                                  102,1         43%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[14;1H\u001b[?12l\u001b[?25h\u001b[?1006h\u001b[?1000h"]
[136.796369, "o", "\u001b[25;85H3\u001b[15;1H"]
[137.295942, "o", "\u001b[25;85H4\u001b[16;1H"]
[137.325693, "o", "\u001b[25;85H5\u001b[17;1H"]
[137.354869, "o", "\u001b[25;85H6\u001b[18;1H"]
[137.38432, "o", "\u001b[25;85H7\u001b[19;1H"]
[137.415122, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[25;83H\u001b[K108,1\u001b[9C44%\u001b[1;26r\u001b[19;1H"]
[137.445633, "o", "\u001b[1;24r\u001b[24;1H\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[25;83H\u001b[K109,1\u001b[9C44%\u001b[1;26r\u001b[19;1H"]
[137.476364, "o", "\u001b[1;24r\u001b[24;1H\ndocker container exec -it builder sh\u001b[25;83H\u001b[K110,1\u001b[9C45%\u001b[1;26r\u001b[19;1H"]
[137.924314, "o", "\u001b[25;84H09\u001b[18;1H"]
[139.093791, "o", "\u001b[?25l\u001b[H  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                             \u001b[30m\u001b[43m[0/0]\u001b[2;1H\u001b[39m\u001b[49m  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n# run a fresh builder\u001b[K\r\ndocker container stop builder\u001b[K\r\ndocker container rm builder\u001b[K\r\ndocker volume rm dind\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name builder --privileged \\                            \u001b[K\r\n  -v dind:/var/lib/docker \\\u001b[K\r\n  docker:dind --registry-mirror http://hub-cache:5000                                              \u001b[K\r\ndocker container exec -it bui"]
[139.094219, "o", "lder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker container exec -it builder sh\u001b[K\r\n                                                                                  109,1         45%\u001b[K\u001b[18;1H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[139.095327, "o", "\u001b[?25l\u001b[26d\u001b[30m\u001b[42m[preso] 0:bash- 1:[tmux]*                                              \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[18;1H\u001b[?12l\u001b[?25h"]
[139.404317, "o", "\u001b[30m\u001b[43md\r\u001b(B\u001b[m"]
[139.78823, "o", "\u001b[30m\u001b[43mdocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                          \u001b[19;1H`\r\u001b(B\u001b[m"]
[139.940046, "o", "\u001b[A\u001b[30m\u001b[43md\u001b[39m\u001b[49mocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                          \u001b[19;1H\u001b[31m\u001b[1m`\u001b[18;1H\u001b(B\u001b[m\u001b[30m\u001b[43mdocker container exec -it builder docker image pull sudobmitch/demo:ubuntu \b\u001b(B\u001b[m"]
[140.52362, "o", "\u001b]52;;ZG9ja2VyIGNvbnRhaW5lciBleGVjIC1pdCBidWlsZGVyIGRvY2tlciBpbWFnZSBwdWxsIHN1ZG9ibWl0Y2gvZGVtbzp1YnVudHUK\u0007\r\u001b[?1006h\u001b[?1000h"]
[140.525731, "o", "\u001b[?25l\u001b[H  -e REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY=/var/lib/registry \\                                 \u001b[K\r\n  -e REGISTRY_PROXY_REMOTEURL=https://registry-1.docker.io \\                                       \u001b[K\r\n  -e REGISTRY_PROXY_USERNAME=\"$DOCKER_USER\" \\\u001b[K\r\n  -e REGISTRY_PROXY_PASSWORD=\"$DOCKER_TOKEN\" \\\u001b[K\r\n  registry:2\u001b[K\r\n# split screen, show logs in separate terminal\u001b[K\r\ndocker container logs -f hub-cache\u001b[K\r\n# run push and pull in original window\u001b[K\r\ndocker container exec -it builder docker image pull sudobmitch/demo:ubuntu                         \u001b[K\r\n# run a fresh builder\u001b[K\r\ndocker container stop builder\u001b[K\r\ndocker container rm builder\u001b[K\r\ndocker volume rm dind\u001b[K\r\ndocker container run --env-file .env \\\u001b[K\r\n  -d --net cache --restart unless-stopped --name builder --privileged \\                            \u001b[K\r\n  -v dind:/var/lib/docker \\\u001b[K\r\n  docker:dind --registry-mirror http://hub-cache:5000                                              \u001b[K\r\ndocker container exec -it builder docker image pull"]
[140.526056, "o", " sudobmitch/demo:ubuntu                         \u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m##\u001b[35m 5 - TLS and Pulling Directly from the Cache\u001b(B\u001b[m\u001b[K\r\n\u001b[K\r\n\u001b[31m\u001b[1m```\u001b(B\u001b[m\u001b[K\r\ndocker container exec -it builder sh\u001b[K\r\n                                                                                  109,1         45%\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash- 1:vi*                                                  \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[18;1H\u001b[?12l\u001b[?25h"]
[141.142483, "o", "\u001b[?25l\u001b[32m\u001b[A───────────────────────────────────────────────────\u001b[39m─────────────────────────────────────────────────\u001b[1;1H\u001b(B\u001b[mubuntu: Pulling from sudobmitch/demo\u001b[K\r\nDigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8                    \u001b[K\r\nStatus: Image is up to date for sudobmitch/demo:ubuntu                                             \u001b[K\r\ndocker.io/sudobmitch/demo:ubuntu\u001b[K\r\n$ docker container stop builder\u001b[K\r\nbuilder\u001b[K\r\n$ docker container rm builder\u001b[K\r\nbuilder\u001b[K\r\n$ docker volume rm dind\u001b[K\r\ndind\u001b[K\r\n$ docker container run --env-file .env \\\u001b[K\r\n>   -d --net cache --restart unless-stopped --name builder --privileged \\                          \u001b[K\r\n>   -v dind:/var/lib/docker \\\u001b[K\r\n>   docker:dind --registry-mirror http://hub-cache:5000                                      "]
[141.142828, "o", "      \u001b[K\r\n6eeaf7d260168f02418595ebc61484912592be26c5eab8b425227a3700871093                                   \u001b[K\r\n$\u001b[K\u001b[18;1Htime=\"2020-05-10T21:56:53.52666037Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=4b758037-2413-42ac-92eb-f7f85a99c835 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44302\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/vnd.docker.distribution.manifest.v2+json\" http.response.duration=344.95235ms http.response.status=200 http.response.written=1152\u001b[K\r\n\u001b[K\r\n\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h\u001b[?1000l\u001b[?1006l"]
[142.357485, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker container exec -it builder docker image pull sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[142.511172, "o", "\u001b[18;25r\u001b[5S\u001b[20dtime=\"2020-05-10T21:57:34.441206234Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=dfbea806-4cbd-4e5a-887c-6c5bad3370aa http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44310\" http.request.uri=\"/v2/\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\" http.response.duration=\"542.844µ\r\u001b[4S\u001b[21;33Hs\" http.response.status=200 http.response.written=2 \r\n192.168.70.3 - - [10/May/2020:21:57:34 +0000] \"GET /v2/ HTTP/1.1\" 200 2 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[142.708674, "o", "\u001b[18;25r\u001b[8S\u001b[18dtime=\"2020-05-10T21:57:34.637634918Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=fc9949d8-463b-44ac-83de-45f9ac334852 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44312\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/vnd.docker.distribution.manifest.v2+json\" http.response.duration=195.429255ms http.response.status=200 http.response.written=1152 \u001b[1;26r\u001b[16;1H"]
[142.711136, "o", "\u001b[1;16r\u001b[2S\u001b[14dubuntu: Pulling from sudobmitch/demo\r\nd51af753c3d3: Pulling fs layer \u001b[1;26r\u001b[16;1H\u001b[1;16r\u001b[3S\u001b[13dfc878cd0a91c: Pulling fs layer \r\n6154df8ff988: Pulling fs layer \r\n\u001b[Kfee5db0ff82f: Waiting "]
[142.711491, "o", "\u001b[1;26r\u001b[16;1H"]
[142.948302, "o", "\u001b[18;25r\u001b[4S\u001b[21dtime=\"2020-05-10T21:57:34.875390737Z\" level=info msg=\"Adding new scheduler entry for sudobmitch/demo@sha256:fc878cd0a91c7bece56f668b2c79a19d94dd5471dae41fe5a7e14b4ae65251f6 with ttl=167h59m59.999993091s\" go.version=go1.11.2 instance.id=21edb638-8607-4c9b-b70c-f362f3edfeab service=registry version=v2.7.1 \u001b[?25l\u001b[1;26r\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:docker* 1:vi-                                                \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[16;1H\u001b[?12l\u001b[?25h"]
[142.964392, "o", "\u001b[3A\u001b[Kfc878cd0a91c: Downloading  3.703kB/32.3kB\u001b[16;1H"]
[142.966385, "o", "\u001b[3A\u001b[K\u001b[K\u001b[Kfc878cd0a91c: Download complete "]
[142.966964, "o", "\u001b[16;1H\u001b[18;25r\u001b[8S\u001b[18d9.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=253.815931ms http.response.status=200 http.response.written=32304 \r\n192.168.70.3 - - [10/May/2020:21:57:34 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:fc878cd0a91c7bece56f668b2c79a19d94dd5471dae41fe5a7e14b4ae65251f6 HTTP/1.1\" 200 32304 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\""]
[142.967237, "o", "\u001b[1;26r\u001b[16;1H"]
[143.044903, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  293.3kB/28.56MB\u001b[16;1H"]
[143.048892, "o", "\u001b[18;25r\u001b[8S\u001b[18d9.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=335.823042ms http.response.status=200 http.response.written=3408 \r\n192.168.70.3 - - [10/May/2020:21:57:34 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:1d622ef86b138c7e96d4f797bf5e4baca3249f030c575b9337638594f2b63f01 HTTP/1.1\" 200 3408 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[143.126188, "o", "\u001b[18;25r\u001b[8S\u001b[18d.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=413.167613ms http.response.status=200 http.response.written=847 \r\n192.168.70.3 - - [10/May/2020:21:57:34 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:6154df8ff9882934dc5bf265b8b85a3aeadba06387447ffa440f7af7f32b0e1d HTTP/1.1\" 200 847 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[143.12707, "o", "\u001b[2A\u001b[K6154df8ff988: Download complete \u001b[16;1H"]
[143.130795, "o", "\u001b[18;25r\u001b[4S\u001b[21dtime=\"2020-05-10T21:57:35.059883126Z\" level=info msg=\"Adding new scheduler entry for sudobmitch/demo@sha256:6154df8ff9882934dc5bf265b8b85a3aeadba06387447ffa440f7af7f32b0e1d with ttl=167h59m59.999994019s\" go.version=go1.11.2 instance.id=21edb638-8607-4c9b-b70c-f362f3edfeab service=registry version=v2.7.1 \u001b[1;26r\u001b[16;1H"]
[143.166542, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  588.2kB/28.56MB\u001b[16;1H"]
[143.295102, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  1.473MB/28.56MB\u001b[16;1H"]
[143.451146, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  2.063MB/28.56MB\u001b[16;1H"]
[143.598398, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  2.956MB/28.56MB\u001b[16;1H"]
[143.78886, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  3.546MB/28.56MB\u001b[16;1H"]
[144.732579, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  4.414MB/28.56MB\u001b[16;1H"]
[144.848986, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  5.004MB/28.56MB\u001b[16;1H"]
[144.862469, "o", "\u001b[18;25r\u001b[8S\u001b[18d.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=1.893283247s http.response.status=200 http.response.written=163 \r\n192.168.70.3 - - [10/May/2020:21:57:34 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:fee5db0ff82f7aa5ace63497df4802bbadf8f2779ed3e1858605b791dc449425 HTTP/1.1\" 200 163 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H\u001b[A\u001b[K\u001b[K\u001b[Kfee5db0ff82f: Download complete "]
[144.862701, "o", "\r\n"]
[144.874905, "o", "\u001b[18;25r\u001b[4S\u001b[21dtime=\"2020-05-10T21:57:36.804621002Z\" level=info msg=\"Adding new scheduler entry for sudobmitch/demo@sha256:fee5db0ff82f7aa5ace63497df4802bbadf8f2779ed3e1858605b791dc449425 with ttl=167h59m59.999993903s\" go.version=go1.11.2 instance.id=21edb638-8607-4c9b-b70c-f362f3edfeab service=registry version=v2.7.1 \u001b[1;26r\u001b[16;1H"]
[144.958024, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  5.602MB/28.56MB\u001b[16;1H"]
[145.161548, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  6.192MB/28.56MB\u001b[16;1H"]
[145.26498, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  7.068MB/28.56MB\u001b[16;1H"]
[145.368224, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  7.371MB/28.56MB\u001b[16;1H"]
[145.610406, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  8.551MB/28.56MB\u001b[16;1H"]
[145.714804, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  9.141MB/28.56MB\u001b[16;1H"]
[145.856515, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading   9.73MB/28.56MB\u001b[16;1H"]
[146.10066, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  10.32MB/28.56MB\u001b[16;1H"]
[146.206392, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  10.62MB/28.56MB\u001b[16;1H"]
[146.383426, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  11.21MB/28.56MB\u001b[16;1H"]
[146.52317, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  11.79MB/28.56MB\u001b[16;1H"]
[146.722477, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  12.38MB/28.56MB\u001b[16;1H"]
[146.873425, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  12.68MB/28.56MB\u001b[16;1H"]
[147.007843, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  13.27MB/28.56MB\u001b[16;1H"]
[147.125363, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  13.56MB/28.56MB\u001b[16;1H"]
[147.300524, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  14.15MB/28.56MB\u001b[16;1H"]
[147.468946, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  14.74MB/28.56MB\u001b[16;1H"]
[147.597023, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  15.33MB/28.56MB\u001b[16;1H"]
[147.718649, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  15.63MB/28.56MB\u001b[16;1H"]
[147.867257, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  15.93MB/28.56MB\u001b[16;1H"]
[147.980834, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading   17.1MB/28.56MB\u001b[16;1H"]
[148.102955, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading     18MB/28.56MB\u001b[16;1H"]
[148.316351, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  18.29MB/28.56MB\u001b[16;1H"]
[148.434274, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  18.58MB/28.56MB\u001b[16;1H"]
[148.547349, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  19.17MB/28.56MB\u001b[16;1H"]
[148.703969, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  19.76MB/28.56MB\u001b[16;1H"]
[148.846545, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  20.05MB/28.56MB\u001b[16;1H"]
[148.956083, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  20.64MB/28.56MB\u001b[16;1H"]
[149.358313, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  20.95MB/28.56MB\u001b[16;1H"]
[149.594563, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  21.24MB/28.56MB\u001b[16;1H"]
[149.703817, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  22.99MB/28.56MB\u001b[16;1H"]
[149.807842, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  23.59MB/28.56MB\u001b[16;1H"]
[149.934997, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  24.18MB/28.56MB\u001b[16;1H"]
[150.040038, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  25.07MB/28.56MB\u001b[16;1H"]
[150.097101, "o", "\u001b[18;25r\u001b[4S\u001b[21dtime=\"2020-05-10T21:57:42.02693564Z\" level=info msg=\"Adding new scheduler entry for sudobmitch/demo@sha256:d51af753c3d3a984351448ec0f85ddafc580680fd6dfce9f4b09fdb367ee1e3e with ttl=167h59m59.999996702s\" go.version=go1.11.2 instance.id=21edb638-8607-4c9b-b70c-f362f3edfeab service=registry version=v2.7.1 \u001b[1;26r\u001b[16;1H"]
[150.157412, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  25.35MB/28.56MB\u001b[16;1H"]
[150.285971, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  26.25MB/28.56MB\u001b[16;1H"]
[150.410437, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  27.43MB/28.56MB\u001b[16;1H"]
[150.514983, "o", "\u001b[18;25r\u001b[8S\u001b[18d9.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=7.802248453s http.response.status=200 http.response.written=28556247 \r\n192.168.70.3 - - [10/May/2020:21:57:34 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:d51af753c3d3a984351448ec0f85ddafc580680fd6dfce9f4b09fdb367ee1e3e HTTP/1.1\" 200 28556247 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[150.516655, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  28.32MB/28.56MB\u001b[16;1H"]
[150.520619, "o", "\u001b[4A\u001b[Kd51af753c3d3: Download complete \u001b[16;1H"]
[150.622823, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  294.9kB/28.56MB\u001b[16;1H"]
[150.723981, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  6.783MB/28.56MB\u001b[16;1H"]
[150.826203, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  14.16MB/28.56MB\u001b[16;1H"]
[150.930033, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  23.89MB/28.56MB\u001b[16;1H"]
[151.046735, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  28.31MB/28.56MB\u001b[16;1H"]
[151.072612, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  28.56MB/28.56MB\u001b[16;1H"]
[151.146211, "o", "\u001b[4A\u001b[Kd51af753c3d3: Pull complete \u001b[16;1H"]
[151.149076, "o", "\u001b[3A\u001b[K\u001b[Kfc878cd0a91c: Extracting   32.3kB/32.3kB"]
[151.149217, "o", "\u001b[16;1H"]
[151.245262, "o", "\u001b[3A\u001b[Kfc878cd0a91c: Pull complete \u001b[16;1H"]
[151.248608, "o", "\u001b[2A\u001b[K6154df8ff988: Extracting     847B/847B\u001b[16;1H"]
[151.249191, "o", "\u001b[2A\u001b[K6154df8ff988: Extracting     847B/847B"]
[151.249485, "o", "\u001b[16;1H"]
[151.36835, "o", "\u001b[2A\u001b[K6154df8ff988: Pull complete \u001b[16;1H"]
[151.371679, "o", "\u001b[A\u001b[Kfee5db0ff82f: Extracting     163B/163B\r\n"]
[151.37231, "o", "\u001b[A\u001b[Kfee5db0ff82f: Extracting     163B/163B\r\n"]
[151.496009, "o", "\u001b[A\u001b[Kfee5db0ff82f: Pull complete \r\n"]
[151.50181, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[ADigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8\u001b[1;26r\u001b[16;1H"]
[151.506131, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[AStatus: Downloaded newer image for sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[151.5065, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Adocker.io/sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[151.560514, "o", "$ "]
[152.112352, "o", "\u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:57 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h"]
[155.568313, "o", "docker container exec -it builder docker image pull sudobmitch/demo:ubuntu"]
[155.795849, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;20Hrun --env-file .env   -d --net cache --restart unless-stopped --name builder --privileged   -v dind:/var/lib/docker   docker:dind --registry-mirror http://hub-cache:5000\u001b[1;26r\u001b[16;89H"]
[155.987619, "o", "\u001b[15;10Hvolume rm dind\u001b[K\r\n\u001b[K\u001b[15;24H"]
[156.171685, "o", "\u001b[10Gcontainer rm builder"]
[156.37965, "o", "\u001b[10D\u001b[2@stop\u001b[8C"]
[157.332315, "o", "\r\n"]
[158.848679, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Abuilder\u001b[1;26r\u001b[16;1H"]
[158.850921, "o", "$ "]
[159.819923, "o", "docker container stop builder"]
[159.987607, "o", "\u001b[12Dexec -it builder docker image pull sudobmitch/demo:ubuntu"]
[160.156034, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;20Hrun --env-file .env   -d --net cache --restart unless-stopped --name builder --privileged   -v dind:/var/lib/docker   docker:dind --registry-mirror http://hub-cache:5000\u001b[1;26r\u001b[16;89H"]
[160.331487, "o", "\u001b[15;10Hvolume rm dind\u001b[K\r\n\u001b[K\u001b[15;24H"]
[160.483796, "o", "\u001b[10Gcontainer rm builder"]
[160.915749, "o", "\r\n"]
[160.956071, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Abuilder\u001b[1;26r\u001b[16;1H"]
[160.958757, "o", "$ "]
[161.953691, "o", "docker container rm builder"]
[162.12101, "o", "\u001b[10D\u001b[2@stop\u001b[8C"]
[162.291659, "o", "\u001b[12Dexec -it builder docker image pull sudobmitch/demo:ubuntu"]
[162.452224, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;20Hrun --env-file .env   -d --net cache --restart unless-stopped --name builder --privileged   -v dind:/var/lib/docker   docker:dind --registry-mirror http://hub-cache:5000\u001b[1;26r\u001b[16;89H"]
[162.611657, "o", "\u001b[15;10Hvolume rm dind\u001b[K\r\n\u001b[K\u001b[15;24H"]
[163.019808, "o", "\r\n"]
[163.130541, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Adind\u001b[1;26r\u001b[16;1H"]
[163.132721, "o", "$ "]
[163.820016, "o", "docker volume rm dind"]
[163.979605, "o", "\u001b[10Gcontainer rm builder"]
[164.15492, "o", "\u001b[10D\u001b[2@stop\u001b[8C"]
[164.323707, "o", "\u001b[12Dexec -it builder docker image pull sudobmitch/demo:ubuntu"]
[164.475926, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;20Hrun --env-file .env   -d --net cache --restart unless-stopped --name builder --privileged   -v dind:/var/lib/docker   docker:dind --registry-mirror http://hub-cache:5000\u001b[1;26r\u001b[16;89H"]
[165.620257, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[1;26r\u001b[16;1H"]
[165.706981, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[A7290b3a4b32214e1ed80b6c284f33d8af115bba4e7095cce421265fc6595e47c\u001b[1;26r\u001b[16;1H"]
[166.08527, "o", "$ "]
[167.923786, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[15;3Hdocker container run --env-file .env   -d --net cache --restart unless-stopped --name builder --privileged   -v dind:/var/lib/docker   docker:dind --registry-mirror http://hub-cache:5000\u001b[1;26r\u001b[16;89H"]
[168.099803, "o", "\u001b[15;10Hvolume rm dind\u001b[K\r\n\u001b[K\u001b[15;24H"]
[168.275986, "o", "\u001b[10Gcontainer rm builder"]
[168.448868, "o", "\u001b[10D\u001b[2@stop\u001b[8C"]
[168.602036, "o", "\u001b[12Dexec -it builder docker image pull sudobmitch/demo:ubuntu"]
[169.259648, "o", "\r\n"]
[169.438294, "o", "\u001b[18;25r\u001b[5S\u001b[20dtime=\"2020-05-10T21:58:01.367953869Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=ee0677a1-537f-4610-bcf4-349f1fe4018f http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44350\" http.request.uri=\"/v2/\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/json; charset=utf-8\" http.response.duration=\"536.844µ\r\u001b[4S\u001b[21;33Hs\" http.response.status=200 http.response.written=2 \r\n192.168.70.3 - - [10/May/2020:21:58:01 +0000] \"GET /v2/ HTTP/1.1\" 200 2 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[?25l\u001b[1;26r\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:docker* 1:vi-                                                \"bmitch-t490\" 17:58 10-May-20\u001b(B\u001b[m\u001b[16;1H\u001b[?12l\u001b[?25h"]
[169.553771, "o", "\u001b[18;25r\u001b[8S\u001b[18dtime=\"2020-05-10T21:58:01.482827883Z\" level=info msg=\"response completed\" go.version=go1.11.2 http.request.host=\"hub-cache:5000\" http.request.id=251850a6-30cb-4e43-9dd7-8138fe0d6245 http.request.method=GET http.request.remoteaddr=\"192.168.70.3:44352\" http.request.uri=\"/v2/sudobmitch/demo/manifests/ubuntu\" http.request.useragent=\"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/vnd.docker.distribution.manifest.v2+json\" http.response.duration=113.800135ms http.response.status=200 http.response.written=1152 \u001b[1;26r\u001b[16;1H"]
[169.555714, "o", "\u001b[1;16r\u001b[4S\u001b[12dubuntu: Pulling from sudobmitch/demo\r\nd51af753c3d3: Pulling fs layer \r\nfc878cd0a91c: Pulling fs layer \u001b[1;26r\u001b[15;1H\u001b[1;16r\u001b[16;1H\n\u001b[2A6154df8ff988: Pulling fs layer \r\n\u001b[Kfee5db0ff82f: Waiting "]
[169.556054, "o", "\u001b[1;26r\u001b[16;1H"]
[169.584685, "o", "\u001b[18;25r\u001b[8S\u001b[18d9.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=20.476014ms http.response.status=200 http.response.written=847 \r\n192.168.70.3 - - [10/May/2020:21:58:01 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:6154df8ff9882934dc5bf265b8b85a3aeadba06387447ffa440f7af7f32b0e1d HTTP/1.1\" 200 847 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[169.585209, "o", "\u001b[18;25r\u001b[8S\u001b[18d9.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=27.760757ms http.response.status=200 http.response.written=3408 \r\n192.168.70.3 - - [10/May/2020:21:58:01 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:1d622ef86b138c7e96d4f797bf5e4baca3249f030c575b9337638594f2b63f01 HTTP/1.1\" 200 3408 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[169.58663, "o", "\u001b[2A"]
[169.588246, "o", "\u001b[K\u001b[K\u001b[K6154df8ff988: Download complete \u001b[16;1H"]
[169.591063, "o", "\u001b[3A\u001b[Kfc878cd0a91c: Downloading  3.646kB/32.3kB\u001b[16;1H"]
[169.591505, "o", "\u001b[18;25r\u001b[8S\u001b[18d03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=34.378719ms http.response.status=200 http.response.written=32304 \r\n192.168.70.3 - - [10/May/2020:21:58:01 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:fc878cd0a91c7bece56f668b2c79a19d94dd5471dae41fe5a7e14b4ae65251f6 HTTP/1.1\" 200 32304 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[169.591714, "o", "\u001b[3A\u001b[Kfc878cd0a91c: Download complete \u001b[16;1H"]
[169.59209, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  298.6kB/28.56MB\u001b[16;1H"]
[169.596644, "o", "\u001b[18;25r\u001b[8S\u001b[18d9.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=8.67318ms http.response.status=200 http.response.written=163 \r\n192.168.70.3 - - [10/May/2020:21:58:01 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:fee5db0ff82f7aa5ace63497df4802bbadf8f2779ed3e1858605b791dc449425 HTTP/1.1\" 200 163 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H\u001b[A\u001b[K\u001b[K\u001b[Kfee5db0ff82f: Download complete \r\n"]
[169.693041, "o", "\u001b[4A\u001b[Kd51af753c3d3: Downloading  21.83MB/28.56MB\u001b[16;1H"]
[169.713701, "o", "\u001b[18;25r\u001b[8S\u001b[18d9.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\(linux\\))\" http.response.contenttype=\"application/octet-stream\" http.response.duration=157.076482ms http.response.status=200 http.response.written=28556247 \r\n192.168.70.3 - - [10/May/2020:21:58:01 +0000] \"GET /v2/sudobmitch/demo/blobs/sha256:d51af753c3d3a984351448ec0f85ddafc580680fd6dfce9f4b09fdb367ee1e3e HTTP/1.1\" 200 28556247 \"\" \"docker/19.03.8 go/go1.12.17 git-commit/afacb8b7f0 kernel/4.19.0-8-amd64 os/linux arch/amd64 UpstreamClient(Docker-Client/19.03.8 \\\\(linux\\\\))\"\u001b[1;26r\u001b[16;1H"]
[169.723776, "o", "\u001b[4A\u001b[K\u001b[Kd51af753c3d3: Download complete \u001b[16;1H"]
[169.78925, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  294.9kB/28.56MB\u001b[16;1H"]
[169.891756, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  6.488MB/28.56MB\u001b[16;1H"]
[169.998053, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting   11.5MB/28.56MB\u001b[16;1H"]
[170.098276, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  20.05MB/28.56MB\u001b[16;1H"]
[170.199585, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  25.95MB/28.56MB\u001b[16;1H"]
[170.276644, "o", "\u001b[4A\u001b[Kd51af753c3d3: Extracting  28.56MB/28.56MB\u001b[16;1H"]
[170.387004, "o", "\u001b[4A\u001b[Kd51af753c3d3: Pull complete \u001b[16;1H"]
[170.390663, "o", "\u001b[3A\u001b[Kfc878cd0a91c: Extracting   32.3kB/32.3kB\u001b[16;1H"]
[170.391297, "o", "\u001b[3A\u001b[Kfc878cd0a91c: Extracting   32.3kB/32.3kB\u001b[16;1H"]
[170.517834, "o", "\u001b[3A\u001b[Kfc878cd0a91c: Pull complete \u001b[16;1H"]
[170.520422, "o", "\u001b[2A\u001b[K6154df8ff988: Extracting     847B/847B\u001b[16;1H"]
[170.520734, "o", "\u001b[2A\u001b[K6154df8ff988: Extracting     847B/847B\u001b[16;1H"]
[170.637396, "o", "\u001b[2A\u001b[K6154df8ff988: Pull complete \u001b[16;1H"]
[170.640841, "o", "\u001b[A\u001b[Kfee5db0ff82f: Extracting     163B/163B\r\n"]
[170.641399, "o", "\u001b[A\u001b[Kfee5db0ff82f: Extracting     163B/163B"]
[170.641714, "o", "\r\n"]
[170.782828, "o", "\u001b[A\u001b[Kfee5db0ff82f: Pull complete \r\n"]
[170.788557, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[ADigest: sha256:5747316366b8cc9e3021cd7286f42b2d6d81e3d743e2ab571f55bcd5df788cc8\u001b[1;26r\u001b[16;1H"]
[170.791929, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[AStatus: Downloaded newer image for sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[170.792708, "o", "\u001b[1;16r\u001b[16;1H\n\u001b[Adocker.io/sudobmitch/demo:ubuntu\u001b[1;26r\u001b[16;1H"]
[170.845471, "o", "$ "]
[172.836612, "o", "\u001b[?25l\u001b[26;1H\u001b[30m\u001b[42m[preso] 0:bash* 1:vi-                                                  \"bmitch-t490\" 17:58 10-May-20\u001b(B\u001b[m\u001b[16;3H\u001b[?12l\u001b[?25h"]
